{"hash":"2379c61e02f0ce213d17c44c9e3e1812788f4fd1","fesm2020":{"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, SkipSelf, Input, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common/http';\nimport { HttpEventType, HttpClientModule } from '@angular/common/http';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nfunction AngularFileUploaderComponent_div_0_div_1_Template(rf, ctx) { if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15);\n    i0.ɵɵlistener(\"drop\", function AngularFileUploaderComponent_div_0_div_1_Template_div_drop_2_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(2); return ctx_r12.drop($event); })(\"dragover\", function AngularFileUploaderComponent_div_0_div_1_Template_div_dragover_2_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r14 = i0.ɵɵnextContext(2); return ctx_r14.allowDrop($event); });\n    i0.ɵɵelementStart(3, \"p\", 16);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.hideSelectBtn && ctx_r2.hideResetBtn ? null : \"dragNDropBtmPad\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.replaceTexts == null ? null : ctx_r2.replaceTexts.dragNDropBox);\n} }\nfunction AngularFileUploaderComponent_div_0_label_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"sel\", ctx_r3.id, \"\");\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.progressBarShow ? \"disabled\" : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.replaceTexts == null ? null : ctx_r3.replaceTexts.selectFileBtn);\n} }\nfunction AngularFileUploaderComponent_div_0_input_3_Template(rf, ctx) { if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 18);\n    i0.ɵɵlistener(\"change\", function AngularFileUploaderComponent_div_0_input_3_Template_input_change_0_listener($event) { i0.ɵɵrestoreView(_r16); const ctx_r15 = i0.ɵɵnextContext(2); return ctx_r15.onChange($event); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"sel\", ctx_r4.id, \"\");\n    i0.ɵɵproperty(\"disabled\", ctx_r4.progressBarShow)(\"accept\", ctx_r4.formatsAllowed);\n    i0.ɵɵattribute(\"multiple\", ctx_r4.multiple ? \"\" : null);\n} }\nfunction AngularFileUploaderComponent_div_0_button_4_Template(rf, ctx) { if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_button_4_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(2); return ctx_r17.resetFileUpload(); });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r5.progressBarShow);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.replaceTexts == null ? null : ctx_r5.replaceTexts.resetBtn);\n} }\nfunction AngularFileUploaderComponent_div_0_br_5_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n} }\nconst _c0 = function (a0) { return { \"width\": a0 }; };\nfunction AngularFileUploaderComponent_div_0_div_8_div_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"span\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r21.uploadPercent + \"%\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r21.uploadPercent, \"%\");\n} }\nfunction AngularFileUploaderComponent_div_0_div_8_a_9_Template(rf, ctx) { if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_div_8_a_9_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r25); const i_r20 = i0.ɵɵnextContext().index; const ctx_r23 = i0.ɵɵnextContext(2); return ctx_r23.removeFile(i_r20, \"sf\"); });\n    i0.ɵɵelement(1, \"i\", 29);\n    i0.ɵɵelementEnd();\n} }\nfunction AngularFileUploaderComponent_div_0_div_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"p\", 21)(2, \"span\", 22);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 23)(5, \"strong\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AngularFileUploaderComponent_div_0_div_8_div_8_Template, 3, 4, \"div\", 24);\n    i0.ɵɵtemplate(9, AngularFileUploaderComponent_div_0_div_8_a_9_Template, 2, 0, \"a\", 25);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const sf_r19 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(sf_r19.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r7.convertSize(sf_r19.size), \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.isAllowedFileSingle && ctx_r7.progressBarShow && !ctx_r7.hideProgressBar);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.uploadStarted);\n} }\nfunction AngularFileUploaderComponent_div_0_div_9_a_9_Template(rf, ctx) { if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_div_9_a_9_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r31); const j_r27 = i0.ɵɵnextContext().index; const ctx_r29 = i0.ɵɵnextContext(2); return ctx_r29.removeFile(j_r27, \"na\"); });\n    i0.ɵɵtext(1, \"\\u00A0\");\n    i0.ɵɵelement(2, \"i\", 29);\n    i0.ɵɵelementEnd();\n} }\nfunction AngularFileUploaderComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"p\", 31)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 23)(5, \"strong\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\", 32);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AngularFileUploaderComponent_div_0_div_9_a_9_Template, 3, 0, \"a\", 33);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const na_r26 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(na_r26[\"fileName\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", na_r26[\"fileSize\"], \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(na_r26[\"errorMsg\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.uploadStarted);\n} }\nfunction AngularFileUploaderComponent_div_0_p_10_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMapInterpolate1(\"\", ctx_r9.uploadMsgClass, \" + afu-upload-status\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.uploadMsgText, \" \");\n} }\nfunction AngularFileUploaderComponent_div_0_div_12_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 35)(2, \"span\", 27);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"br\")(5, \"br\");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r10.uploadPercent + \"%\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r10.uploadPercent, \"%\");\n} }\nfunction AngularFileUploaderComponent_div_0_button_13_Template(rf, ctx) { if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_button_13_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r33); const ctx_r32 = i0.ɵɵnextContext(2); return ctx_r32.uploadFiles(); });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.enableUploadBtn && ctx_r11.progressBarShow);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.replaceTexts == null ? null : ctx_r11.replaceTexts.uploadBtn);\n} }\nfunction AngularFileUploaderComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, AngularFileUploaderComponent_div_0_div_1_Template, 5, 2, \"div\", 3);\n    i0.ɵɵtemplate(2, AngularFileUploaderComponent_div_0_label_2_Template, 2, 3, \"label\", 4);\n    i0.ɵɵtemplate(3, AngularFileUploaderComponent_div_0_input_3_Template, 1, 4, \"input\", 5);\n    i0.ɵɵtemplate(4, AngularFileUploaderComponent_div_0_button_4_Template, 2, 2, \"button\", 6);\n    i0.ɵɵtemplate(5, AngularFileUploaderComponent_div_0_br_5_Template, 1, 0, \"br\", 7);\n    i0.ɵɵelementStart(6, \"p\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AngularFileUploaderComponent_div_0_div_8_Template, 10, 4, \"div\", 9);\n    i0.ɵɵtemplate(9, AngularFileUploaderComponent_div_0_div_9_Template, 10, 4, \"div\", 10);\n    i0.ɵɵtemplate(10, AngularFileUploaderComponent_div_0_p_10_Template, 2, 4, \"p\", 11);\n    i0.ɵɵelement(11, \"p\");\n    i0.ɵɵtemplate(12, AngularFileUploaderComponent_div_0_div_12_Template, 6, 4, \"div\", 7);\n    i0.ɵɵtemplate(13, AngularFileUploaderComponent_div_0_button_13_Template, 2, 2, \"button\", 12);\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.theme == \"dragNDrop\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideSelectBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideSelectBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideResetBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideSelectBtn);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", ctx_r0.formatsAllowedText, \" \", ctx_r0.replaceTexts == null ? null : ctx_r0.replaceTexts.sizeLimit, \": \", ctx_r0.convertSize(ctx_r0.maxSize), \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.allowedFiles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.notAllowedFiles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.uploadMsg);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isAllowedFileSingle && ctx_r0.progressBarShow && !ctx_r0.hideProgressBar);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.autoUpload);\n} }\nfunction AngularFileUploaderComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_1_Template_a_click_2_listener() { i0.ɵɵrestoreView(_r35); const ctx_r34 = i0.ɵɵnextContext(); return ctx_r34.attachpinOnclick(); });\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"i\", 40);\n    i0.ɵɵelementStart(5, \"input\", 41);\n    i0.ɵɵlistener(\"change\", function AngularFileUploaderComponent_div_1_Template_input_change_5_listener($event) { i0.ɵɵrestoreView(_r35); const ctx_r36 = i0.ɵɵnextContext(); return ctx_r36.onChange($event); });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" \\u00A0 \");\n    i0.ɵɵelementStart(8, \"span\", 42);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.replaceTexts == null ? null : ctx_r1.replaceTexts.attachPinBtn, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"sel\", ctx_r1.id, \"\");\n    i0.ɵɵproperty(\"accept\", ctx_r1.formatsAllowed);\n    i0.ɵɵattribute(\"multiple\", ctx_r1.multiple ? \"\" : null);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"upload-file-info\", ctx_r1.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.allowedFiles[0] == null ? null : ctx_r1.allowedFiles[0].name);\n} }\nclass AngularFileUploaderComponent {\n    constructor(http) {\n        this.http = http;\n        this.resetUpload = false;\n        // Outputs\n        this.ApiResponse = new EventEmitter();\n        this.fileSelected = new EventEmitter();\n        this.allowedFiles = [];\n        this.notAllowedFiles = [];\n        this.Caption = [];\n        this.isAllowedFileSingle = true;\n        this.progressBarShow = false;\n        this.enableUploadBtn = false;\n        this.uploadMsg = false;\n        this.afterUpload = false;\n        this.uploadStarted = false;\n        this.currentUploads = [];\n        this.fileNameIndex = true;\n        this.withCredentials = false;\n        this.autoUpload = false;\n        this.idDate = +new Date();\n    }\n    ngOnChanges(changes) {\n        // Track changes in Configuration and see if user has even provided Configuration.\n        if (changes.config && this.config) {\n            // Assign User Configurations to Library Properties.\n            this.theme = this.config.theme || '';\n            this.id =\n                this.config.id ||\n                    parseInt((this.idDate / 10000).toString().split('.')[1], 10) +\n                        Math.floor(Math.random() * 20) * 10000;\n            this.hideProgressBar = this.config.hideProgressBar || false;\n            this.hideResetBtn = this.config.hideResetBtn || false;\n            this.hideSelectBtn = this.config.hideSelectBtn || false;\n            this.maxSize = (this.config.maxSize || 20) * 1024000; // mb to bytes.\n            this.uploadAPI = this.config.uploadAPI.url;\n            this.method = this.config.uploadAPI.method || 'POST';\n            this.formatsAllowed = this.config.formatsAllowed || '*';\n            this.formatsAllowedText =\n                this.formatsAllowed === '*' ? '' : '(' + this.formatsAllowed + ')';\n            this.multiple = this.config.multiple || false;\n            this.headers = this.config.uploadAPI.headers || {};\n            this.params = this.config.uploadAPI.params || {};\n            this.responseType = this.config.uploadAPI.responseType || 'json';\n            this.withCredentials = this.config.uploadAPI.withCredentials || false;\n            this.fileNameIndex = this.config.fileNameIndex === false ? false : true;\n            this.autoUpload = this.config.autoUpload || false;\n            this.replaceTexts = {\n                selectFileBtn: this.multiple ? 'Select Files' : 'Select File',\n                resetBtn: 'Reset',\n                uploadBtn: 'Upload',\n                dragNDropBox: 'Drag N Drop',\n                attachPinBtn: this.multiple ? 'Attach Files...' : 'Attach File...',\n                afterUploadMsg_success: 'Successfully Uploaded !',\n                afterUploadMsg_error: 'Upload Failed !',\n                sizeLimit: 'Size Limit',\n            }; // default replaceText.\n            if (this.config.replaceTexts) {\n                // updated replaceText if user has provided any.\n                this.replaceTexts = {\n                    ...this.replaceTexts,\n                    ...this.config.replaceTexts,\n                };\n            }\n        }\n        // Reset when resetUpload value changes from false to true.\n        if (changes.resetUpload) {\n            if (changes.resetUpload.currentValue === true) {\n                this.resetFileUpload();\n            }\n        }\n    }\n    // Reset following properties.\n    resetFileUpload() {\n        this.allowedFiles = [];\n        this.Caption = [];\n        this.notAllowedFiles = [];\n        this.uploadMsg = false;\n        this.enableUploadBtn = false;\n    }\n    // When user selects files.\n    onChange(event) {\n        this.fileSelected.emit(event);\n        this.notAllowedFiles = [];\n        const fileExtRegExp = /(?:\\.([^.]+))?$/;\n        let fileList;\n        if (this.afterUpload || !this.multiple) {\n            this.allowedFiles = [];\n            this.Caption = [];\n            this.afterUpload = false;\n        }\n        if (event.type === 'drop') {\n            fileList = event.dataTransfer.files;\n        }\n        else {\n            fileList = event.target.files || event.srcElement.files;\n        }\n        // 'forEach' does not exist on 'filelist' that's why this good old 'for' is used.\n        for (let i = 0; i < fileList.length; i++) {\n            const currentFileExt = fileExtRegExp\n                .exec(fileList[i].name)[1]\n                .toLowerCase(); // Get file extension.\n            const isFormatValid = this.formatsAllowed.includes('*')\n                ? true\n                : this.formatsAllowed.includes(currentFileExt);\n            const isSizeValid = fileList[i].size <= this.maxSize;\n            // Check whether current file format and size is correct as specified in the configurations.\n            if (isFormatValid && isSizeValid) {\n                this.allowedFiles.push(fileList[i]);\n            }\n            else {\n                this.notAllowedFiles.push({\n                    fileName: fileList[i].name,\n                    fileSize: this.convertSize(fileList[i].size),\n                    errorMsg: !isFormatValid ? 'Invalid format' : 'Invalid size',\n                });\n            }\n        }\n        // If there's any allowedFiles.\n        if (this.allowedFiles.length > 0) {\n            this.enableUploadBtn = true;\n            // Upload the files directly if theme is attach pin (as upload btn is not there for this theme) or autoUpload is true.\n            if (this.theme === 'attachPin' || this.autoUpload) {\n                this.uploadFiles();\n            }\n        }\n        else {\n            this.enableUploadBtn = false;\n        }\n        this.uploadMsg = false;\n        this.uploadStarted = false;\n        this.uploadPercent = 0;\n        event.target.value = null;\n    }\n    uploadFiles() {\n        this.progressBarShow = true;\n        this.uploadStarted = true;\n        this.notAllowedFiles = [];\n        let isError = false;\n        this.isAllowedFileSingle = this.allowedFiles.length <= 1;\n        const formData = new FormData();\n        // Add data to be sent in this request\n        this.allowedFiles.forEach((file, i) => {\n            formData.append(this.Caption[i] || 'file' + (this.fileNameIndex ? i : ''), this.allowedFiles[i]);\n        });\n        /*\n        Not Working, Headers null\n        // Contruct Headers\n        const headers = new HttpHeaders();\n        for (const key of Object.keys(this.headers)) {\n          headers.append(key, this.headers[key]);\n        }\n    \n        // Contruct Params\n        const params = new HttpParams();\n        for (const key of Object.keys(this.params)) {\n          params.append(key, this.params[key]);\n        } */\n        this.http\n            .request(this.method.toUpperCase(), this.uploadAPI, {\n            body: formData,\n            reportProgress: true,\n            observe: 'events',\n            headers: this.headers,\n            params: this.params,\n            responseType: this.responseType,\n            withCredentials: this.withCredentials,\n        })\n            .subscribe((event) => {\n            // Upload Progress\n            if (event.type === HttpEventType.UploadProgress) {\n                this.enableUploadBtn = false; // button should be disabled if process uploading\n                const currentDone = event.loaded / event.total;\n                this.uploadPercent = Math.round((event.loaded / event.total) * 100);\n            }\n            else if (event.type === HttpEventType.Response) {\n                if (event.status === 200 || event.status === 201) {\n                    // Success\n                    this.progressBarShow = false;\n                    this.enableUploadBtn = false;\n                    this.uploadMsg = true;\n                    this.afterUpload = true;\n                    if (!isError) {\n                        this.uploadMsgText = this.replaceTexts.afterUploadMsg_success;\n                        this.uploadMsgClass = 'text-success lead';\n                    }\n                }\n                else {\n                    // Failure\n                    isError = true;\n                    this.handleErrors();\n                }\n                this.ApiResponse.emit(event);\n            }\n            else {\n                //console.log('Event Other: ', event);\n            }\n        }, (error) => {\n            // Failure\n            isError = true;\n            this.handleErrors();\n            this.ApiResponse.emit(error);\n        });\n    }\n    handleErrors() {\n        this.progressBarShow = false;\n        this.enableUploadBtn = false;\n        this.uploadMsg = true;\n        this.afterUpload = true;\n        this.uploadMsgText = this.replaceTexts.afterUploadMsg_error;\n        this.uploadMsgClass = 'text-danger lead';\n    }\n    removeFile(i, sf_na) {\n        if (sf_na === 'sf') {\n            this.allowedFiles.splice(i, 1);\n            this.Caption.splice(i, 1);\n        }\n        else {\n            this.notAllowedFiles.splice(i, 1);\n        }\n        if (this.allowedFiles.length === 0) {\n            this.enableUploadBtn = false;\n        }\n    }\n    convertSize(fileSize) {\n        return fileSize < 1024000\n            ? (fileSize / 1024).toFixed(2) + ' KB'\n            : (fileSize / 1024000).toFixed(2) + ' MB';\n    }\n    attachpinOnclick() {\n        const element = document.getElementById('sel' + this.id);\n        if (element !== null) {\n            element.click();\n        }\n    }\n    drop(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.onChange(event);\n    }\n    allowDrop(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy';\n    }\n}\nAngularFileUploaderComponent.ɵfac = function AngularFileUploaderComponent_Factory(t) { return new (t || AngularFileUploaderComponent)(i0.ɵɵdirectiveInject(i1.HttpClient, 4)); };\nAngularFileUploaderComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AngularFileUploaderComponent, selectors: [[\"angular-file-uploader\"]], inputs: { config: \"config\", resetUpload: \"resetUpload\" }, outputs: { ApiResponse: \"ApiResponse\", fileSelected: \"fileSelected\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 2, vars: 2, consts: [[\"class\", \"container\", \"id\", \"default\", 4, \"ngIf\"], [\"id\", \"attachPin\", 4, \"ngIf\"], [\"id\", \"default\", 1, \"container\"], [\"id\", \"dragNDrop\", \"class\", \"dragNDrop\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"btn btn-primary btn-sm afu-select-btn\", 3, \"for\", \"ngClass\", 4, \"ngIf\"], [\"type\", \"file\", \"style\", \"display: none\", \"title\", \"Select file\", \"name\", \"files[]\", 3, \"id\", \"disabled\", \"accept\", \"change\", 4, \"ngIf\"], [\"class\", \"btn btn-info btn-sm resetBtn afu-reset-btn\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"constraints-info\", \"afu-constraints-info\"], [\"class\", \"row afu-valid-file\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row text-danger afu-invalid-file\", 4, \"ngFor\", \"ngForOf\"], [3, \"class\", 4, \"ngIf\"], [\"class\", \"btn btn-success afu-upload-btn\", \"type\", \"button\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"dragNDrop\", 1, \"dragNDrop\", 3, \"ngClass\"], [2, \"position\", \"relative\"], [\"id\", \"div1\", 1, \"div1\", \"afu-dragndrop-box\", 3, \"drop\", \"dragover\"], [1, \"afu-dragndrop-text\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", \"afu-select-btn\", 3, \"for\", \"ngClass\"], [\"type\", \"file\", \"title\", \"Select file\", \"name\", \"files[]\", 2, \"display\", \"none\", 3, \"id\", \"disabled\", \"accept\", \"change\"], [1, \"btn\", \"btn-info\", \"btn-sm\", \"resetBtn\", \"afu-reset-btn\", 3, \"disabled\", \"click\"], [1, \"row\", \"afu-valid-file\"], [1, \"col\", \"textOverflow\"], [1, \"text-primary\"], [1, \"col-3\", \"padMarg\", \"sizeC\"], [\"class\", \"progress col-3 padMarg afu-progress-bar\", 4, \"ngIf\"], [\"class\", \"col-1\", \"role\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"progress\", \"col-3\", \"padMarg\", \"afu-progress-bar\"], [\"role\", \"progressbar\", 1, \"progress-bar\", \"progress-bar-success\", 3, \"ngStyle\"], [\"role\", \"button\", 1, \"col-1\", 3, \"click\"], [1, \"fa-solid\", \"fa-xmark\"], [1, \"row\", \"text-danger\", \"afu-invalid-file\"], [1, \"col-3\", \"textOverflow\"], [1, \"col-3\"], [\"class\", \"col-1 delFileIcon\", \"role\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"role\", \"button\", 1, \"col-1\", \"delFileIcon\", 3, \"click\"], [1, \"progress\", \"col-xs-4\", \"padMarg\", \"afu-progress-bar\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"afu-upload-btn\", 3, \"disabled\", \"click\"], [\"id\", \"attachPin\"], [2, \"position\", \"relative\", \"padding-left\", \"6px\"], [1, \"btn\", \"up_btn\", \"afu-attach-pin\", 3, \"click\"], [1, \"fa-solid\", \"fa-paperclip\"], [\"type\", \"file\", \"title\", \"Select file\", \"name\", \"files[]\", 2, \"display\", \"none\", 3, \"id\", \"accept\", \"change\"], [1, \"label\", \"label-info\", 3, \"id\"]], template: function AngularFileUploaderComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, AngularFileUploaderComponent_div_0_Template, 15, 13, \"div\", 0);\n        i0.ɵɵtemplate(1, AngularFileUploaderComponent_div_1_Template, 10, 6, \"div\", 1);\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.theme !== \"attachPin\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.theme == \"attachPin\");\n    } }, directives: [i2.NgIf, i2.NgClass, i2.NgForOf, i2.NgStyle], styles: [\".constraints-info[_ngcontent-%COMP%]{margin-top:10px;font-style:italic}.padMarg[_ngcontent-%COMP%]{padding:0;margin-bottom:0}.caption[_ngcontent-%COMP%]{margin-right:5px}.textOverflow[_ngcontent-%COMP%]{white-space:nowrap;padding-right:0;overflow:hidden;text-overflow:ellipsis}.up_btn[_ngcontent-%COMP%]{color:#000;background-color:transparent;border:2px solid rgb(92,91,91);border-radius:22px}.delFileIcon[_ngcontent-%COMP%]{text-decoration:none;color:#ce0909}.selectBtnDisabled[_ngcontent-%COMP%]{border:1px solid #999999;background-color:#ccc;color:#666;cursor:no-drop}.dragNDrop[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%]{display:border-box;border:2px dashed rgb(92,91,91);height:6rem}.dragNDrop[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#5c5b5b;margin-top:2em}.dragNDropBtmPad[_ngcontent-%COMP%]{padding-bottom:2rem}@media screen and (max-width: 620px){.caption[_ngcontent-%COMP%]{padding:0}}@media screen and (max-width: 510px){.sizeC[_ngcontent-%COMP%]{width:25%}}@media screen and (max-width: 260px){.sizeC[_ngcontent-%COMP%], .caption[_ngcontent-%COMP%]{font-size:10px}}.resetBtn[_ngcontent-%COMP%]{margin-left:3px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AngularFileUploaderComponent, [{\n        type: Component,\n        args: [{ selector: 'angular-file-uploader', template: \"<div class=\\\"container\\\" *ngIf=\\\"(theme !== 'attachPin')\\\" id=\\\"default\\\">\\n\\n  <!-- Drag n Drop theme Starts -->\\n  <div *ngIf=\\\"theme == 'dragNDrop'\\\" id=\\\"dragNDrop\\\"\\n       [ngClass]=\\\"(hideSelectBtn && hideResetBtn) ? null : 'dragNDropBtmPad'\\\"\\n       class=\\\"dragNDrop\\\">\\n    <div style=\\\"position:relative;\\\">\\n      <div id=\\\"div1\\\" class=\\\"div1 afu-dragndrop-box\\\" (drop)=\\\"drop($event)\\\"\\n           (dragover)=\\\"allowDrop($event)\\\">\\n        <p class=\\\"afu-dragndrop-text\\\">{{replaceTexts?.dragNDropBox}}</p>\\n      </div>\\n      <!-- <span class='label label-info' id=\\\"upload-file-info{{id}}\\\">{{allowedFiles[0]?.name}}</span> -->\\n    </div>\\n  </div>\\n  <!-- Drag n Drop theme Ends -->\\n\\n  <label for=\\\"sel{{id}}\\\" class=\\\"btn btn-primary btn-sm afu-select-btn\\\"\\n         [ngClass]=\\\"progressBarShow ? 'disabled' : null\\\"\\n         *ngIf=\\\"!hideSelectBtn\\\">{{replaceTexts?.selectFileBtn}}</label>\\n  <input type=\\\"file\\\" id=\\\"sel{{id}}\\\" style=\\\"display: none\\\" *ngIf=\\\"!hideSelectBtn\\\"\\n         [disabled]=\\\"progressBarShow\\\" (change)=\\\"onChange($event)\\\"\\n         title=\\\"Select file\\\" name=\\\"files[]\\\" [accept]=formatsAllowed\\n         [attr.multiple]=\\\"multiple ? '' : null\\\" />\\n  <button class=\\\"btn btn-info btn-sm resetBtn afu-reset-btn\\\"\\n          (click)=\\\"resetFileUpload()\\\" *ngIf=\\\"!hideResetBtn\\\"\\n          [disabled]=\\\"progressBarShow\\\">{{replaceTexts?.resetBtn}}</button>\\n  <br *ngIf=\\\"!hideSelectBtn\\\">\\n  <p class=\\\"constraints-info afu-constraints-info\\\">{{formatsAllowedText}}\\n    {{replaceTexts?.sizeLimit}}:\\n    {{(convertSize(maxSize))}}\\n  </p>\\n  <!--Allowed file list-->\\n  <div class=\\\"row afu-valid-file\\\" *ngFor=\\\"let sf of allowedFiles;let i=index\\\">\\n    <p class=\\\"col textOverflow\\\"><span class=\\\"text-primary\\\">{{sf.name}}</span>\\n    </p>\\n    <p class=\\\"col-3 padMarg sizeC\\\">\\n      <strong>({{convertSize(sf.size)}})</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n    </p>\\n    <!--  <input class=\\\"col-xs-3 progress caption\\\"  type=\\\"text\\\"  placeholder=\\\"Caption..\\\"  [(ngModel)]=\\\"Caption[i]\\\"  *ngIf=\\\"!uploadStarted\\\"/> -->\\n    <div class=\\\"progress col-3 padMarg afu-progress-bar\\\"\\n         *ngIf=\\\"isAllowedFileSingle && progressBarShow && !hideProgressBar\\\">\\n      <span class=\\\"progress-bar progress-bar-success\\\" role=\\\"progressbar\\\"\\n            [ngStyle]=\\\"{'width':uploadPercent+'%'}\\\">{{uploadPercent}}%</span>\\n    </div>\\n    <a class=\\\"col-1\\\" role=\\\"button\\\" (click)=\\\"removeFile(i,'sf')\\\"\\n       *ngIf=\\\"!uploadStarted\\\"><i class=\\\"fa-solid fa-xmark\\\"></i></a>\\n  </div>\\n  <!--Not Allowed file list-->\\n  <div class=\\\"row text-danger afu-invalid-file\\\"\\n       *ngFor=\\\"let na of notAllowedFiles;let j=index\\\">\\n    <p class=\\\"col-3 textOverflow\\\"><span>{{na['fileName']}}</span></p>\\n    <p class=\\\"col-3 padMarg sizeC\\\"><strong>({{na['fileSize']}})</strong></p>\\n    <p class=\\\"col-3 \\\">{{na['errorMsg']}}</p>\\n    <a class=\\\"col-1 delFileIcon\\\" role=\\\"button\\\" (click)=\\\"removeFile(j,'na')\\\"\\n       *ngIf=\\\"!uploadStarted\\\">&nbsp;<i class=\\\"fa-solid fa-xmark\\\"></i></a>\\n  </div>\\n\\n  <p *ngIf=\\\"uploadMsg\\\" class=\\\"{{uploadMsgClass}} + afu-upload-status\\\">\\n    {{uploadMsgText}}\\n  <p>\\n  <div *ngIf=\\\"!isAllowedFileSingle && progressBarShow && !hideProgressBar\\\">\\n    <div class=\\\"progress col-xs-4 padMarg afu-progress-bar\\\">\\n      <span class=\\\"progress-bar progress-bar-success\\\" role=\\\"progressbar\\\"\\n            [ngStyle]=\\\"{'width':uploadPercent+'%'}\\\">{{uploadPercent}}%</span>\\n    </div>\\n    <br>\\n    <br>\\n  </div>\\n  <button class=\\\"btn btn-success afu-upload-btn\\\" type=\\\"button\\\"\\n          (click)=\\\"uploadFiles()\\\"\\n          [disabled]=\\\"!enableUploadBtn && progressBarShow\\\"\\n          *ngIf=\\\"!autoUpload\\\">{{replaceTexts?.uploadBtn}}</button>\\n  <br>\\n</div>\\n\\n<!--/////////////////////////// ATTACH PIN THEME  //////////////////////////////////////////////////////////-->\\n<div *ngIf=\\\"theme == 'attachPin'\\\" id=\\\"attachPin\\\">\\n  <div style=\\\"position:relative;padding-left:6px\\\">\\n    <a class='btn up_btn afu-attach-pin' (click)=\\\"attachpinOnclick()\\\">\\n      {{replaceTexts?.attachPinBtn}}\\n      <i class=\\\"fa-solid fa-paperclip\\\"></i>\\n      <!-- <p style=\\\"margin-top:10px\\\">({{formatsAllowedText}}) Size limit- {{(convertSize(maxSize))}}</p> -->\\n      <input type=\\\"file\\\" id=\\\"sel{{id}}\\\" (change)=\\\"onChange($event)\\\"\\n             style=\\\"display: none\\\" title=\\\"Select file\\\" name=\\\"files[]\\\"\\n             [accept]=formatsAllowed [attr.multiple]=\\\"multiple ? '' : null\\\" />\\n      <br>\\n    </a>\\n    &nbsp;\\n    <span class='label label-info'\\n          id=\\\"upload-file-info{{id}}\\\">{{allowedFiles[0]?.name}}</span>\\n  </div>\\n</div>\", styles: [\".constraints-info{margin-top:10px;font-style:italic}.padMarg{padding:0;margin-bottom:0}.caption{margin-right:5px}.textOverflow{white-space:nowrap;padding-right:0;overflow:hidden;text-overflow:ellipsis}.up_btn{color:#000;background-color:transparent;border:2px solid rgb(92,91,91);border-radius:22px}.delFileIcon{text-decoration:none;color:#ce0909}.selectBtnDisabled{border:1px solid #999999;background-color:#ccc;color:#666;cursor:no-drop}.dragNDrop .div1{display:border-box;border:2px dashed rgb(92,91,91);height:6rem}.dragNDrop .div1>p{text-align:center;font-weight:700;color:#5c5b5b;margin-top:2em}.dragNDropBtmPad{padding-bottom:2rem}@media screen and (max-width: 620px){.caption{padding:0}}@media screen and (max-width: 510px){.sizeC{width:25%}}@media screen and (max-width: 260px){.sizeC,.caption{font-size:10px}}.resetBtn{margin-left:3px}\\n\"] }]\n    }], function () { return [{ type: i1.HttpClient, decorators: [{\n                type: SkipSelf\n            }] }]; }, { config: [{\n            type: Input\n        }], resetUpload: [{\n            type: Input\n        }], ApiResponse: [{\n            type: Output\n        }], fileSelected: [{\n            type: Output\n        }] }); })();\n\nclass AngularFileUploaderModule {\n}\nAngularFileUploaderModule.ɵfac = function AngularFileUploaderModule_Factory(t) { return new (t || AngularFileUploaderModule)(); };\nAngularFileUploaderModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AngularFileUploaderModule });\nAngularFileUploaderModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [[\n            CommonModule,\n            HttpClientModule,\n        ]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AngularFileUploaderModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    HttpClientModule,\n                ],\n                declarations: [AngularFileUploaderComponent],\n                exports: [AngularFileUploaderComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AngularFileUploaderModule, { declarations: [AngularFileUploaderComponent], imports: [CommonModule,\n        HttpClientModule], exports: [AngularFileUploaderComponent] }); })();\n\n/*\n * Public API Surface of angular-file-uploader\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AngularFileUploaderComponent, AngularFileUploaderModule };\n//# sourceMappingURL=angular-file-uploader.mjs.map\n","map":{"version":3,"file":"angular-file-uploader.mjs","sources":["../../../projects/angular-file-uploader/src/lib/angular-file-uploader.component.html","../../../projects/angular-file-uploader/src/lib/angular-file-uploader.component.ts","../../../projects/angular-file-uploader/src/lib/angular-file-uploader.module.ts","../../../projects/angular-file-uploader/src/public-api.ts","../../../projects/angular-file-uploader/src/angular-file-uploader.ts"],"sourcesContent":["<div class=\"container\" *ngIf=\"(theme !== 'attachPin')\" id=\"default\">\n\n  <!-- Drag n Drop theme Starts -->\n  <div *ngIf=\"theme == 'dragNDrop'\" id=\"dragNDrop\"\n       [ngClass]=\"(hideSelectBtn && hideResetBtn) ? null : 'dragNDropBtmPad'\"\n       class=\"dragNDrop\">\n    <div style=\"position:relative;\">\n      <div id=\"div1\" class=\"div1 afu-dragndrop-box\" (drop)=\"drop($event)\"\n           (dragover)=\"allowDrop($event)\">\n        <p class=\"afu-dragndrop-text\">{{replaceTexts?.dragNDropBox}}</p>\n      </div>\n      <!-- <span class='label label-info' id=\"upload-file-info{{id}}\">{{allowedFiles[0]?.name}}</span> -->\n    </div>\n  </div>\n  <!-- Drag n Drop theme Ends -->\n\n  <label for=\"sel{{id}}\" class=\"btn btn-primary btn-sm afu-select-btn\"\n         [ngClass]=\"progressBarShow ? 'disabled' : null\"\n         *ngIf=\"!hideSelectBtn\">{{replaceTexts?.selectFileBtn}}</label>\n  <input type=\"file\" id=\"sel{{id}}\" style=\"display: none\" *ngIf=\"!hideSelectBtn\"\n         [disabled]=\"progressBarShow\" (change)=\"onChange($event)\"\n         title=\"Select file\" name=\"files[]\" [accept]=formatsAllowed\n         [attr.multiple]=\"multiple ? '' : null\" />\n  <button class=\"btn btn-info btn-sm resetBtn afu-reset-btn\"\n          (click)=\"resetFileUpload()\" *ngIf=\"!hideResetBtn\"\n          [disabled]=\"progressBarShow\">{{replaceTexts?.resetBtn}}</button>\n  <br *ngIf=\"!hideSelectBtn\">\n  <p class=\"constraints-info afu-constraints-info\">{{formatsAllowedText}}\n    {{replaceTexts?.sizeLimit}}:\n    {{(convertSize(maxSize))}}\n  </p>\n  <!--Allowed file list-->\n  <div class=\"row afu-valid-file\" *ngFor=\"let sf of allowedFiles;let i=index\">\n    <p class=\"col textOverflow\"><span class=\"text-primary\">{{sf.name}}</span>\n    </p>\n    <p class=\"col-3 padMarg sizeC\">\n      <strong>({{convertSize(sf.size)}})</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    </p>\n    <!--  <input class=\"col-xs-3 progress caption\"  type=\"text\"  placeholder=\"Caption..\"  [(ngModel)]=\"Caption[i]\"  *ngIf=\"!uploadStarted\"/> -->\n    <div class=\"progress col-3 padMarg afu-progress-bar\"\n         *ngIf=\"isAllowedFileSingle && progressBarShow && !hideProgressBar\">\n      <span class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n            [ngStyle]=\"{'width':uploadPercent+'%'}\">{{uploadPercent}}%</span>\n    </div>\n    <a class=\"col-1\" role=\"button\" (click)=\"removeFile(i,'sf')\"\n       *ngIf=\"!uploadStarted\"><i class=\"fa-solid fa-xmark\"></i></a>\n  </div>\n  <!--Not Allowed file list-->\n  <div class=\"row text-danger afu-invalid-file\"\n       *ngFor=\"let na of notAllowedFiles;let j=index\">\n    <p class=\"col-3 textOverflow\"><span>{{na['fileName']}}</span></p>\n    <p class=\"col-3 padMarg sizeC\"><strong>({{na['fileSize']}})</strong></p>\n    <p class=\"col-3 \">{{na['errorMsg']}}</p>\n    <a class=\"col-1 delFileIcon\" role=\"button\" (click)=\"removeFile(j,'na')\"\n       *ngIf=\"!uploadStarted\">&nbsp;<i class=\"fa-solid fa-xmark\"></i></a>\n  </div>\n\n  <p *ngIf=\"uploadMsg\" class=\"{{uploadMsgClass}} + afu-upload-status\">\n    {{uploadMsgText}}\n  <p>\n  <div *ngIf=\"!isAllowedFileSingle && progressBarShow && !hideProgressBar\">\n    <div class=\"progress col-xs-4 padMarg afu-progress-bar\">\n      <span class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n            [ngStyle]=\"{'width':uploadPercent+'%'}\">{{uploadPercent}}%</span>\n    </div>\n    <br>\n    <br>\n  </div>\n  <button class=\"btn btn-success afu-upload-btn\" type=\"button\"\n          (click)=\"uploadFiles()\"\n          [disabled]=\"!enableUploadBtn && progressBarShow\"\n          *ngIf=\"!autoUpload\">{{replaceTexts?.uploadBtn}}</button>\n  <br>\n</div>\n\n<!--/////////////////////////// ATTACH PIN THEME  //////////////////////////////////////////////////////////-->\n<div *ngIf=\"theme == 'attachPin'\" id=\"attachPin\">\n  <div style=\"position:relative;padding-left:6px\">\n    <a class='btn up_btn afu-attach-pin' (click)=\"attachpinOnclick()\">\n      {{replaceTexts?.attachPinBtn}}\n      <i class=\"fa-solid fa-paperclip\"></i>\n      <!-- <p style=\"margin-top:10px\">({{formatsAllowedText}}) Size limit- {{(convertSize(maxSize))}}</p> -->\n      <input type=\"file\" id=\"sel{{id}}\" (change)=\"onChange($event)\"\n             style=\"display: none\" title=\"Select file\" name=\"files[]\"\n             [accept]=formatsAllowed [attr.multiple]=\"multiple ? '' : null\" />\n      <br>\n    </a>\n    &nbsp;\n    <span class='label label-info'\n          id=\"upload-file-info{{id}}\">{{allowedFiles[0]?.name}}</span>\n  </div>\n</div>","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  SkipSelf,\n} from '@angular/core';\nimport {\n  ReplaceTexts,\n  AngularFileUploaderConfig,\n  UploadInfo,\n  UploadApi,\n} from './angular-file-uploader.types';\nimport {\n  HttpClient,\n  HttpHeaders,\n  HttpParams,\n  HttpEventType,\n} from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'angular-file-uploader',\n  templateUrl: './angular-file-uploader.component.html',\n  styleUrls: ['./angular-file-uploader.component.css'],\n})\nexport class AngularFileUploaderComponent implements OnChanges {\n  // Inputs\n  @Input()\n  config: AngularFileUploaderConfig;\n\n  @Input()\n  resetUpload = false;\n\n  // Outputs\n  @Output()\n  ApiResponse = new EventEmitter();\n\n  @Output()\n  fileSelected: EventEmitter<UploadInfo[]> = new EventEmitter<UploadInfo[]>();\n\n  // Properties\n  theme: string;\n  id: number;\n  hideProgressBar: boolean;\n  maxSize: number;\n  uploadAPI: string;\n  method: string;\n  formatsAllowed: string;\n  formatsAllowedText: string;\n  multiple: boolean;\n  headers: HttpHeaders | { [header: string]: string | string[] };\n  params: HttpParams | { [param: string]: string | string[] };\n  responseType: 'json' | 'arraybuffer' | 'blob' | 'text';\n  hideResetBtn: boolean;\n  hideSelectBtn: boolean;\n  allowedFiles: File[] = [];\n  notAllowedFiles: {\n    fileName: string;\n    fileSize: string;\n    errorMsg: string;\n  }[] = [];\n  Caption: string[] = [];\n  isAllowedFileSingle = true;\n  progressBarShow = false;\n  enableUploadBtn = false;\n  uploadMsg = false;\n  afterUpload = false;\n  uploadStarted = false;\n  uploadMsgText: string;\n  uploadMsgClass: string;\n  uploadPercent: number;\n  replaceTexts: ReplaceTexts;\n  currentUploads: any[] = [];\n  fileNameIndex = true;\n  withCredentials = false;\n  autoUpload = false;\n\n  private idDate: number = +new Date();\n\n  constructor(@SkipSelf() private http: HttpClient) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    // Track changes in Configuration and see if user has even provided Configuration.\n    if (changes.config && this.config) {\n      // Assign User Configurations to Library Properties.\n      this.theme = this.config.theme || '';\n      this.id =\n        this.config.id ||\n        parseInt((this.idDate / 10000).toString().split('.')[1], 10) +\n          Math.floor(Math.random() * 20) * 10000;\n      this.hideProgressBar = this.config.hideProgressBar || false;\n      this.hideResetBtn = this.config.hideResetBtn || false;\n      this.hideSelectBtn = this.config.hideSelectBtn || false;\n      this.maxSize = (this.config.maxSize || 20) * 1024000; // mb to bytes.\n      this.uploadAPI = this.config.uploadAPI.url;\n      this.method = this.config.uploadAPI.method || 'POST';\n      this.formatsAllowed = this.config.formatsAllowed || '*';\n      this.formatsAllowedText =\n        this.formatsAllowed === '*' ? '' : '(' + this.formatsAllowed + ')';\n      this.multiple = this.config.multiple || false;\n      this.headers = this.config.uploadAPI.headers || {};\n      this.params = this.config.uploadAPI.params || {};\n      this.responseType = this.config.uploadAPI.responseType || 'json';\n      this.withCredentials = this.config.uploadAPI.withCredentials || false;\n      this.fileNameIndex = this.config.fileNameIndex === false ? false : true;\n      this.autoUpload = this.config.autoUpload || false;\n\n      this.replaceTexts = {\n        selectFileBtn: this.multiple ? 'Select Files' : 'Select File',\n        resetBtn: 'Reset',\n        uploadBtn: 'Upload',\n        dragNDropBox: 'Drag N Drop',\n        attachPinBtn: this.multiple ? 'Attach Files...' : 'Attach File...',\n        afterUploadMsg_success: 'Successfully Uploaded !',\n        afterUploadMsg_error: 'Upload Failed !',\n        sizeLimit: 'Size Limit',\n      }; // default replaceText.\n      if (this.config.replaceTexts) {\n        // updated replaceText if user has provided any.\n        this.replaceTexts = {\n          ...this.replaceTexts,\n          ...this.config.replaceTexts,\n        };\n      }\n    }\n\n    // Reset when resetUpload value changes from false to true.\n    if (changes.resetUpload) {\n      if (changes.resetUpload.currentValue === true) {\n        this.resetFileUpload();\n      }\n    }\n  }\n\n  // Reset following properties.\n  resetFileUpload() {\n    this.allowedFiles = [];\n    this.Caption = [];\n    this.notAllowedFiles = [];\n    this.uploadMsg = false;\n    this.enableUploadBtn = false;\n  }\n\n  // When user selects files.\n  onChange(event: any) {\n    this.fileSelected.emit(event);\n    this.notAllowedFiles = [];\n    const fileExtRegExp: RegExp = /(?:\\.([^.]+))?$/;\n    let fileList: FileList;\n\n    if (this.afterUpload || !this.multiple) {\n      this.allowedFiles = [];\n      this.Caption = [];\n      this.afterUpload = false;\n    }\n\n    if (event.type === 'drop') {\n      fileList = event.dataTransfer.files;\n    } else {\n      fileList = event.target.files || event.srcElement.files;\n    }\n\n    // 'forEach' does not exist on 'filelist' that's why this good old 'for' is used.\n    for (let i = 0; i < fileList.length; i++) {\n      const currentFileExt = fileExtRegExp\n        .exec(fileList[i].name)[1]\n        .toLowerCase(); // Get file extension.\n      const isFormatValid = this.formatsAllowed.includes('*')\n        ? true\n        : this.formatsAllowed.includes(currentFileExt);\n\n      const isSizeValid = fileList[i].size <= this.maxSize;\n\n      // Check whether current file format and size is correct as specified in the configurations.\n      if (isFormatValid && isSizeValid) {\n        this.allowedFiles.push(fileList[i]);\n      } else {\n        this.notAllowedFiles.push({\n          fileName: fileList[i].name,\n          fileSize: this.convertSize(fileList[i].size),\n          errorMsg: !isFormatValid ? 'Invalid format' : 'Invalid size',\n        });\n      }\n    }\n\n    // If there's any allowedFiles.\n    if (this.allowedFiles.length > 0) {\n      this.enableUploadBtn = true;\n      // Upload the files directly if theme is attach pin (as upload btn is not there for this theme) or autoUpload is true.\n      if (this.theme === 'attachPin' || this.autoUpload) {\n        this.uploadFiles();\n      }\n    } else {\n      this.enableUploadBtn = false;\n    }\n\n    this.uploadMsg = false;\n    this.uploadStarted = false;\n    this.uploadPercent = 0;\n    event.target.value = null;\n  }\n\n  uploadFiles() {\n    this.progressBarShow = true;\n    this.uploadStarted = true;\n    this.notAllowedFiles = [];\n    let isError = false;\n    this.isAllowedFileSingle = this.allowedFiles.length <= 1;\n    const formData = new FormData();\n\n    // Add data to be sent in this request\n    this.allowedFiles.forEach((file, i) => {\n      formData.append(\n        this.Caption[i] || 'file' + (this.fileNameIndex ? i : ''),\n        this.allowedFiles[i]\n      );\n    });\n\n    /*\n    Not Working, Headers null\n    // Contruct Headers\n    const headers = new HttpHeaders();\n    for (const key of Object.keys(this.headers)) {\n      headers.append(key, this.headers[key]);\n    }\n\n    // Contruct Params\n    const params = new HttpParams();\n    for (const key of Object.keys(this.params)) {\n      params.append(key, this.params[key]);\n    } */\n\n    this.http\n      .request(this.method.toUpperCase(), this.uploadAPI, {\n        body: formData,\n        reportProgress: true,\n        observe: 'events',\n        headers: this.headers,\n        params: this.params,\n        responseType: this.responseType,\n        withCredentials: this.withCredentials,\n      })\n      .subscribe(\n        (event) => {\n          // Upload Progress\n          if (event.type === HttpEventType.UploadProgress) {\n            this.enableUploadBtn = false; // button should be disabled if process uploading\n            const currentDone = event.loaded / event.total;\n            this.uploadPercent = Math.round((event.loaded / event.total) * 100);\n          } else if (event.type === HttpEventType.Response) {\n            if (event.status === 200 || event.status === 201) {\n              // Success\n              this.progressBarShow = false;\n              this.enableUploadBtn = false;\n              this.uploadMsg = true;\n              this.afterUpload = true;\n              if (!isError) {\n                this.uploadMsgText = this.replaceTexts.afterUploadMsg_success;\n                this.uploadMsgClass = 'text-success lead';\n              }\n            } else {\n              // Failure\n              isError = true;\n              this.handleErrors();\n            }\n\n            this.ApiResponse.emit(event);\n          } else {\n            //console.log('Event Other: ', event);\n          }\n        },\n        (error) => {\n          // Failure\n          isError = true;\n          this.handleErrors();\n          this.ApiResponse.emit(error);\n        }\n      );\n  }\n\n  handleErrors() {\n    this.progressBarShow = false;\n    this.enableUploadBtn = false;\n    this.uploadMsg = true;\n    this.afterUpload = true;\n    this.uploadMsgText = this.replaceTexts.afterUploadMsg_error;\n    this.uploadMsgClass = 'text-danger lead';\n  }\n\n  removeFile(i: any, sf_na: any) {\n    if (sf_na === 'sf') {\n      this.allowedFiles.splice(i, 1);\n      this.Caption.splice(i, 1);\n    } else {\n      this.notAllowedFiles.splice(i, 1);\n    }\n\n    if (this.allowedFiles.length === 0) {\n      this.enableUploadBtn = false;\n    }\n  }\n\n  convertSize(fileSize: number): string {\n    return fileSize < 1024000\n      ? (fileSize / 1024).toFixed(2) + ' KB'\n      : (fileSize / 1024000).toFixed(2) + ' MB';\n  }\n\n  attachpinOnclick() {\n    const element = document.getElementById('sel' + this.id);\n    if (element !== null) {\n      element.click();\n    }\n  }\n\n  drop(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.onChange(event);\n  }\n\n  allowDrop(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'copy';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AngularFileUploaderComponent } from './angular-file-uploader.component';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n  ],\n  declarations: [AngularFileUploaderComponent],\n  exports: [AngularFileUploaderComponent]\n})\nexport class AngularFileUploaderModule { }\n","/*\n * Public API Surface of angular-file-uploader\n */\n\nexport * from './lib/angular-file-uploader.component';\nexport * from './lib/angular-file-uploader.module';\nexport * from './lib/angular-file-uploader.types';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}},"fesm2015":{"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, SkipSelf, Input, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common/http';\nimport { HttpEventType, HttpClientModule } from '@angular/common/http';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nfunction AngularFileUploaderComponent_div_0_div_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"div\", 15);\n        i0.ɵɵlistener(\"drop\", function AngularFileUploaderComponent_div_0_div_1_Template_div_drop_2_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(2); return ctx_r12.drop($event); })(\"dragover\", function AngularFileUploaderComponent_div_0_div_1_Template_div_dragover_2_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r14 = i0.ɵɵnextContext(2); return ctx_r14.allowDrop($event); });\n        i0.ɵɵelementStart(3, \"p\", 16);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n        const ctx_r2 = i0.ɵɵnextContext(2);\n        i0.ɵɵproperty(\"ngClass\", ctx_r2.hideSelectBtn && ctx_r2.hideResetBtn ? null : \"dragNDropBtmPad\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx_r2.replaceTexts == null ? null : ctx_r2.replaceTexts.dragNDropBox);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_label_2_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"label\", 17);\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r3 = i0.ɵɵnextContext(2);\n        i0.ɵɵpropertyInterpolate1(\"for\", \"sel\", ctx_r3.id, \"\");\n        i0.ɵɵproperty(\"ngClass\", ctx_r3.progressBarShow ? \"disabled\" : null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx_r3.replaceTexts == null ? null : ctx_r3.replaceTexts.selectFileBtn);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_input_3_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r16 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"input\", 18);\n        i0.ɵɵlistener(\"change\", function AngularFileUploaderComponent_div_0_input_3_Template_input_change_0_listener($event) { i0.ɵɵrestoreView(_r16); const ctx_r15 = i0.ɵɵnextContext(2); return ctx_r15.onChange($event); });\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r4 = i0.ɵɵnextContext(2);\n        i0.ɵɵpropertyInterpolate1(\"id\", \"sel\", ctx_r4.id, \"\");\n        i0.ɵɵproperty(\"disabled\", ctx_r4.progressBarShow)(\"accept\", ctx_r4.formatsAllowed);\n        i0.ɵɵattribute(\"multiple\", ctx_r4.multiple ? \"\" : null);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_button_4_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r18 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_button_4_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(2); return ctx_r17.resetFileUpload(); });\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r5 = i0.ɵɵnextContext(2);\n        i0.ɵɵproperty(\"disabled\", ctx_r5.progressBarShow);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx_r5.replaceTexts == null ? null : ctx_r5.replaceTexts.resetBtn);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_br_5_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelement(0, \"br\");\n    }\n}\nconst _c0 = function (a0) { return { \"width\": a0 }; };\nfunction AngularFileUploaderComponent_div_0_div_8_div_8_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 26)(1, \"span\", 27);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n        const ctx_r21 = i0.ɵɵnextContext(3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r21.uploadPercent + \"%\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", ctx_r21.uploadPercent, \"%\");\n    }\n}\nfunction AngularFileUploaderComponent_div_0_div_8_a_9_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r25 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"a\", 28);\n        i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_div_8_a_9_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r25); const i_r20 = i0.ɵɵnextContext().index; const ctx_r23 = i0.ɵɵnextContext(2); return ctx_r23.removeFile(i_r20, \"sf\"); });\n        i0.ɵɵelement(1, \"i\", 29);\n        i0.ɵɵelementEnd();\n    }\n}\nfunction AngularFileUploaderComponent_div_0_div_8_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 20)(1, \"p\", 21)(2, \"span\", 22);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"p\", 23)(5, \"strong\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7, \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, AngularFileUploaderComponent_div_0_div_8_div_8_Template, 3, 4, \"div\", 24);\n        i0.ɵɵtemplate(9, AngularFileUploaderComponent_div_0_div_8_a_9_Template, 2, 0, \"a\", 25);\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const sf_r19 = ctx.$implicit;\n        const ctx_r7 = i0.ɵɵnextContext(2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(sf_r19.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"(\", ctx_r7.convertSize(sf_r19.size), \")\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx_r7.isAllowedFileSingle && ctx_r7.progressBarShow && !ctx_r7.hideProgressBar);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r7.uploadStarted);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_div_9_a_9_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r31 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"a\", 34);\n        i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_div_9_a_9_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r31); const j_r27 = i0.ɵɵnextContext().index; const ctx_r29 = i0.ɵɵnextContext(2); return ctx_r29.removeFile(j_r27, \"na\"); });\n        i0.ɵɵtext(1, \"\\u00A0\");\n        i0.ɵɵelement(2, \"i\", 29);\n        i0.ɵɵelementEnd();\n    }\n}\nfunction AngularFileUploaderComponent_div_0_div_9_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 30)(1, \"p\", 31)(2, \"span\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"p\", 23)(5, \"strong\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"p\", 32);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, AngularFileUploaderComponent_div_0_div_9_a_9_Template, 3, 0, \"a\", 33);\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const na_r26 = ctx.$implicit;\n        const ctx_r8 = i0.ɵɵnextContext(2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(na_r26[\"fileName\"]);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"(\", na_r26[\"fileSize\"], \")\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(na_r26[\"errorMsg\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r8.uploadStarted);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_p_10_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r9 = i0.ɵɵnextContext(2);\n        i0.ɵɵclassMapInterpolate1(\"\", ctx_r9.uploadMsgClass, \" + afu-upload-status\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx_r9.uploadMsgText, \" \");\n    }\n}\nfunction AngularFileUploaderComponent_div_0_div_12_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"div\", 35)(2, \"span\", 27);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(4, \"br\")(5, \"br\");\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r10 = i0.ɵɵnextContext(2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r10.uploadPercent + \"%\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", ctx_r10.uploadPercent, \"%\");\n    }\n}\nfunction AngularFileUploaderComponent_div_0_button_13_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r33 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"button\", 36);\n        i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_0_button_13_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r33); const ctx_r32 = i0.ɵɵnextContext(2); return ctx_r32.uploadFiles(); });\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r11 = i0.ɵɵnextContext(2);\n        i0.ɵɵproperty(\"disabled\", !ctx_r11.enableUploadBtn && ctx_r11.progressBarShow);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx_r11.replaceTexts == null ? null : ctx_r11.replaceTexts.uploadBtn);\n    }\n}\nfunction AngularFileUploaderComponent_div_0_Template(rf, ctx) {\n    if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 2);\n        i0.ɵɵtemplate(1, AngularFileUploaderComponent_div_0_div_1_Template, 5, 2, \"div\", 3);\n        i0.ɵɵtemplate(2, AngularFileUploaderComponent_div_0_label_2_Template, 2, 3, \"label\", 4);\n        i0.ɵɵtemplate(3, AngularFileUploaderComponent_div_0_input_3_Template, 1, 4, \"input\", 5);\n        i0.ɵɵtemplate(4, AngularFileUploaderComponent_div_0_button_4_Template, 2, 2, \"button\", 6);\n        i0.ɵɵtemplate(5, AngularFileUploaderComponent_div_0_br_5_Template, 1, 0, \"br\", 7);\n        i0.ɵɵelementStart(6, \"p\", 8);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, AngularFileUploaderComponent_div_0_div_8_Template, 10, 4, \"div\", 9);\n        i0.ɵɵtemplate(9, AngularFileUploaderComponent_div_0_div_9_Template, 10, 4, \"div\", 10);\n        i0.ɵɵtemplate(10, AngularFileUploaderComponent_div_0_p_10_Template, 2, 4, \"p\", 11);\n        i0.ɵɵelement(11, \"p\");\n        i0.ɵɵtemplate(12, AngularFileUploaderComponent_div_0_div_12_Template, 6, 4, \"div\", 7);\n        i0.ɵɵtemplate(13, AngularFileUploaderComponent_div_0_button_13_Template, 2, 2, \"button\", 12);\n        i0.ɵɵelement(14, \"br\");\n        i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n        const ctx_r0 = i0.ɵɵnextContext();\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx_r0.theme == \"dragNDrop\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideSelectBtn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideSelectBtn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideResetBtn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideSelectBtn);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate3(\"\", ctx_r0.formatsAllowedText, \" \", ctx_r0.replaceTexts == null ? null : ctx_r0.replaceTexts.sizeLimit, \": \", ctx_r0.convertSize(ctx_r0.maxSize), \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx_r0.allowedFiles);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx_r0.notAllowedFiles);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx_r0.uploadMsg);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r0.isAllowedFileSingle && ctx_r0.progressBarShow && !ctx_r0.hideProgressBar);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx_r0.autoUpload);\n    }\n}\nfunction AngularFileUploaderComponent_div_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r35 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"a\", 39);\n        i0.ɵɵlistener(\"click\", function AngularFileUploaderComponent_div_1_Template_a_click_2_listener() { i0.ɵɵrestoreView(_r35); const ctx_r34 = i0.ɵɵnextContext(); return ctx_r34.attachpinOnclick(); });\n        i0.ɵɵtext(3);\n        i0.ɵɵelement(4, \"i\", 40);\n        i0.ɵɵelementStart(5, \"input\", 41);\n        i0.ɵɵlistener(\"change\", function AngularFileUploaderComponent_div_1_Template_input_change_5_listener($event) { i0.ɵɵrestoreView(_r35); const ctx_r36 = i0.ɵɵnextContext(); return ctx_r36.onChange($event); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7, \" \\u00A0 \");\n        i0.ɵɵelementStart(8, \"span\", 42);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n        const ctx_r1 = i0.ɵɵnextContext();\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx_r1.replaceTexts == null ? null : ctx_r1.replaceTexts.attachPinBtn, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate1(\"id\", \"sel\", ctx_r1.id, \"\");\n        i0.ɵɵproperty(\"accept\", ctx_r1.formatsAllowed);\n        i0.ɵɵattribute(\"multiple\", ctx_r1.multiple ? \"\" : null);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate1(\"id\", \"upload-file-info\", ctx_r1.id, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx_r1.allowedFiles[0] == null ? null : ctx_r1.allowedFiles[0].name);\n    }\n}\nclass AngularFileUploaderComponent {\n    constructor(http) {\n        this.http = http;\n        this.resetUpload = false;\n        // Outputs\n        this.ApiResponse = new EventEmitter();\n        this.fileSelected = new EventEmitter();\n        this.allowedFiles = [];\n        this.notAllowedFiles = [];\n        this.Caption = [];\n        this.isAllowedFileSingle = true;\n        this.progressBarShow = false;\n        this.enableUploadBtn = false;\n        this.uploadMsg = false;\n        this.afterUpload = false;\n        this.uploadStarted = false;\n        this.currentUploads = [];\n        this.fileNameIndex = true;\n        this.withCredentials = false;\n        this.autoUpload = false;\n        this.idDate = +new Date();\n    }\n    ngOnChanges(changes) {\n        // Track changes in Configuration and see if user has even provided Configuration.\n        if (changes.config && this.config) {\n            // Assign User Configurations to Library Properties.\n            this.theme = this.config.theme || '';\n            this.id =\n                this.config.id ||\n                    parseInt((this.idDate / 10000).toString().split('.')[1], 10) +\n                        Math.floor(Math.random() * 20) * 10000;\n            this.hideProgressBar = this.config.hideProgressBar || false;\n            this.hideResetBtn = this.config.hideResetBtn || false;\n            this.hideSelectBtn = this.config.hideSelectBtn || false;\n            this.maxSize = (this.config.maxSize || 20) * 1024000; // mb to bytes.\n            this.uploadAPI = this.config.uploadAPI.url;\n            this.method = this.config.uploadAPI.method || 'POST';\n            this.formatsAllowed = this.config.formatsAllowed || '*';\n            this.formatsAllowedText =\n                this.formatsAllowed === '*' ? '' : '(' + this.formatsAllowed + ')';\n            this.multiple = this.config.multiple || false;\n            this.headers = this.config.uploadAPI.headers || {};\n            this.params = this.config.uploadAPI.params || {};\n            this.responseType = this.config.uploadAPI.responseType || 'json';\n            this.withCredentials = this.config.uploadAPI.withCredentials || false;\n            this.fileNameIndex = this.config.fileNameIndex === false ? false : true;\n            this.autoUpload = this.config.autoUpload || false;\n            this.replaceTexts = {\n                selectFileBtn: this.multiple ? 'Select Files' : 'Select File',\n                resetBtn: 'Reset',\n                uploadBtn: 'Upload',\n                dragNDropBox: 'Drag N Drop',\n                attachPinBtn: this.multiple ? 'Attach Files...' : 'Attach File...',\n                afterUploadMsg_success: 'Successfully Uploaded !',\n                afterUploadMsg_error: 'Upload Failed !',\n                sizeLimit: 'Size Limit',\n            }; // default replaceText.\n            if (this.config.replaceTexts) {\n                // updated replaceText if user has provided any.\n                this.replaceTexts = Object.assign(Object.assign({}, this.replaceTexts), this.config.replaceTexts);\n            }\n        }\n        // Reset when resetUpload value changes from false to true.\n        if (changes.resetUpload) {\n            if (changes.resetUpload.currentValue === true) {\n                this.resetFileUpload();\n            }\n        }\n    }\n    // Reset following properties.\n    resetFileUpload() {\n        this.allowedFiles = [];\n        this.Caption = [];\n        this.notAllowedFiles = [];\n        this.uploadMsg = false;\n        this.enableUploadBtn = false;\n    }\n    // When user selects files.\n    onChange(event) {\n        this.fileSelected.emit(event);\n        this.notAllowedFiles = [];\n        const fileExtRegExp = /(?:\\.([^.]+))?$/;\n        let fileList;\n        if (this.afterUpload || !this.multiple) {\n            this.allowedFiles = [];\n            this.Caption = [];\n            this.afterUpload = false;\n        }\n        if (event.type === 'drop') {\n            fileList = event.dataTransfer.files;\n        }\n        else {\n            fileList = event.target.files || event.srcElement.files;\n        }\n        // 'forEach' does not exist on 'filelist' that's why this good old 'for' is used.\n        for (let i = 0; i < fileList.length; i++) {\n            const currentFileExt = fileExtRegExp\n                .exec(fileList[i].name)[1]\n                .toLowerCase(); // Get file extension.\n            const isFormatValid = this.formatsAllowed.includes('*')\n                ? true\n                : this.formatsAllowed.includes(currentFileExt);\n            const isSizeValid = fileList[i].size <= this.maxSize;\n            // Check whether current file format and size is correct as specified in the configurations.\n            if (isFormatValid && isSizeValid) {\n                this.allowedFiles.push(fileList[i]);\n            }\n            else {\n                this.notAllowedFiles.push({\n                    fileName: fileList[i].name,\n                    fileSize: this.convertSize(fileList[i].size),\n                    errorMsg: !isFormatValid ? 'Invalid format' : 'Invalid size',\n                });\n            }\n        }\n        // If there's any allowedFiles.\n        if (this.allowedFiles.length > 0) {\n            this.enableUploadBtn = true;\n            // Upload the files directly if theme is attach pin (as upload btn is not there for this theme) or autoUpload is true.\n            if (this.theme === 'attachPin' || this.autoUpload) {\n                this.uploadFiles();\n            }\n        }\n        else {\n            this.enableUploadBtn = false;\n        }\n        this.uploadMsg = false;\n        this.uploadStarted = false;\n        this.uploadPercent = 0;\n        event.target.value = null;\n    }\n    uploadFiles() {\n        this.progressBarShow = true;\n        this.uploadStarted = true;\n        this.notAllowedFiles = [];\n        let isError = false;\n        this.isAllowedFileSingle = this.allowedFiles.length <= 1;\n        const formData = new FormData();\n        // Add data to be sent in this request\n        this.allowedFiles.forEach((file, i) => {\n            formData.append(this.Caption[i] || 'file' + (this.fileNameIndex ? i : ''), this.allowedFiles[i]);\n        });\n        /*\n        Not Working, Headers null\n        // Contruct Headers\n        const headers = new HttpHeaders();\n        for (const key of Object.keys(this.headers)) {\n          headers.append(key, this.headers[key]);\n        }\n    \n        // Contruct Params\n        const params = new HttpParams();\n        for (const key of Object.keys(this.params)) {\n          params.append(key, this.params[key]);\n        } */\n        this.http\n            .request(this.method.toUpperCase(), this.uploadAPI, {\n            body: formData,\n            reportProgress: true,\n            observe: 'events',\n            headers: this.headers,\n            params: this.params,\n            responseType: this.responseType,\n            withCredentials: this.withCredentials,\n        })\n            .subscribe((event) => {\n            // Upload Progress\n            if (event.type === HttpEventType.UploadProgress) {\n                this.enableUploadBtn = false; // button should be disabled if process uploading\n                const currentDone = event.loaded / event.total;\n                this.uploadPercent = Math.round((event.loaded / event.total) * 100);\n            }\n            else if (event.type === HttpEventType.Response) {\n                if (event.status === 200 || event.status === 201) {\n                    // Success\n                    this.progressBarShow = false;\n                    this.enableUploadBtn = false;\n                    this.uploadMsg = true;\n                    this.afterUpload = true;\n                    if (!isError) {\n                        this.uploadMsgText = this.replaceTexts.afterUploadMsg_success;\n                        this.uploadMsgClass = 'text-success lead';\n                    }\n                }\n                else {\n                    // Failure\n                    isError = true;\n                    this.handleErrors();\n                }\n                this.ApiResponse.emit(event);\n            }\n            else {\n                //console.log('Event Other: ', event);\n            }\n        }, (error) => {\n            // Failure\n            isError = true;\n            this.handleErrors();\n            this.ApiResponse.emit(error);\n        });\n    }\n    handleErrors() {\n        this.progressBarShow = false;\n        this.enableUploadBtn = false;\n        this.uploadMsg = true;\n        this.afterUpload = true;\n        this.uploadMsgText = this.replaceTexts.afterUploadMsg_error;\n        this.uploadMsgClass = 'text-danger lead';\n    }\n    removeFile(i, sf_na) {\n        if (sf_na === 'sf') {\n            this.allowedFiles.splice(i, 1);\n            this.Caption.splice(i, 1);\n        }\n        else {\n            this.notAllowedFiles.splice(i, 1);\n        }\n        if (this.allowedFiles.length === 0) {\n            this.enableUploadBtn = false;\n        }\n    }\n    convertSize(fileSize) {\n        return fileSize < 1024000\n            ? (fileSize / 1024).toFixed(2) + ' KB'\n            : (fileSize / 1024000).toFixed(2) + ' MB';\n    }\n    attachpinOnclick() {\n        const element = document.getElementById('sel' + this.id);\n        if (element !== null) {\n            element.click();\n        }\n    }\n    drop(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.onChange(event);\n    }\n    allowDrop(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy';\n    }\n}\nAngularFileUploaderComponent.ɵfac = function AngularFileUploaderComponent_Factory(t) { return new (t || AngularFileUploaderComponent)(i0.ɵɵdirectiveInject(i1.HttpClient, 4)); };\nAngularFileUploaderComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AngularFileUploaderComponent, selectors: [[\"angular-file-uploader\"]], inputs: { config: \"config\", resetUpload: \"resetUpload\" }, outputs: { ApiResponse: \"ApiResponse\", fileSelected: \"fileSelected\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 2, vars: 2, consts: [[\"class\", \"container\", \"id\", \"default\", 4, \"ngIf\"], [\"id\", \"attachPin\", 4, \"ngIf\"], [\"id\", \"default\", 1, \"container\"], [\"id\", \"dragNDrop\", \"class\", \"dragNDrop\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"btn btn-primary btn-sm afu-select-btn\", 3, \"for\", \"ngClass\", 4, \"ngIf\"], [\"type\", \"file\", \"style\", \"display: none\", \"title\", \"Select file\", \"name\", \"files[]\", 3, \"id\", \"disabled\", \"accept\", \"change\", 4, \"ngIf\"], [\"class\", \"btn btn-info btn-sm resetBtn afu-reset-btn\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"constraints-info\", \"afu-constraints-info\"], [\"class\", \"row afu-valid-file\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row text-danger afu-invalid-file\", 4, \"ngFor\", \"ngForOf\"], [3, \"class\", 4, \"ngIf\"], [\"class\", \"btn btn-success afu-upload-btn\", \"type\", \"button\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"dragNDrop\", 1, \"dragNDrop\", 3, \"ngClass\"], [2, \"position\", \"relative\"], [\"id\", \"div1\", 1, \"div1\", \"afu-dragndrop-box\", 3, \"drop\", \"dragover\"], [1, \"afu-dragndrop-text\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", \"afu-select-btn\", 3, \"for\", \"ngClass\"], [\"type\", \"file\", \"title\", \"Select file\", \"name\", \"files[]\", 2, \"display\", \"none\", 3, \"id\", \"disabled\", \"accept\", \"change\"], [1, \"btn\", \"btn-info\", \"btn-sm\", \"resetBtn\", \"afu-reset-btn\", 3, \"disabled\", \"click\"], [1, \"row\", \"afu-valid-file\"], [1, \"col\", \"textOverflow\"], [1, \"text-primary\"], [1, \"col-3\", \"padMarg\", \"sizeC\"], [\"class\", \"progress col-3 padMarg afu-progress-bar\", 4, \"ngIf\"], [\"class\", \"col-1\", \"role\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"progress\", \"col-3\", \"padMarg\", \"afu-progress-bar\"], [\"role\", \"progressbar\", 1, \"progress-bar\", \"progress-bar-success\", 3, \"ngStyle\"], [\"role\", \"button\", 1, \"col-1\", 3, \"click\"], [1, \"fa-solid\", \"fa-xmark\"], [1, \"row\", \"text-danger\", \"afu-invalid-file\"], [1, \"col-3\", \"textOverflow\"], [1, \"col-3\"], [\"class\", \"col-1 delFileIcon\", \"role\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"role\", \"button\", 1, \"col-1\", \"delFileIcon\", 3, \"click\"], [1, \"progress\", \"col-xs-4\", \"padMarg\", \"afu-progress-bar\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"afu-upload-btn\", 3, \"disabled\", \"click\"], [\"id\", \"attachPin\"], [2, \"position\", \"relative\", \"padding-left\", \"6px\"], [1, \"btn\", \"up_btn\", \"afu-attach-pin\", 3, \"click\"], [1, \"fa-solid\", \"fa-paperclip\"], [\"type\", \"file\", \"title\", \"Select file\", \"name\", \"files[]\", 2, \"display\", \"none\", 3, \"id\", \"accept\", \"change\"], [1, \"label\", \"label-info\", 3, \"id\"]], template: function AngularFileUploaderComponent_Template(rf, ctx) {\n        if (rf & 1) {\n            i0.ɵɵtemplate(0, AngularFileUploaderComponent_div_0_Template, 15, 13, \"div\", 0);\n            i0.ɵɵtemplate(1, AngularFileUploaderComponent_div_1_Template, 10, 6, \"div\", 1);\n        }\n        if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.theme !== \"attachPin\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.theme == \"attachPin\");\n        }\n    }, directives: [i2.NgIf, i2.NgClass, i2.NgForOf, i2.NgStyle], styles: [\".constraints-info[_ngcontent-%COMP%]{margin-top:10px;font-style:italic}.padMarg[_ngcontent-%COMP%]{padding:0;margin-bottom:0}.caption[_ngcontent-%COMP%]{margin-right:5px}.textOverflow[_ngcontent-%COMP%]{white-space:nowrap;padding-right:0;overflow:hidden;text-overflow:ellipsis}.up_btn[_ngcontent-%COMP%]{color:#000;background-color:transparent;border:2px solid rgb(92,91,91);border-radius:22px}.delFileIcon[_ngcontent-%COMP%]{text-decoration:none;color:#ce0909}.selectBtnDisabled[_ngcontent-%COMP%]{border:1px solid #999999;background-color:#ccc;color:#666;cursor:no-drop}.dragNDrop[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%]{display:border-box;border:2px dashed rgb(92,91,91);height:6rem}.dragNDrop[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#5c5b5b;margin-top:2em}.dragNDropBtmPad[_ngcontent-%COMP%]{padding-bottom:2rem}@media screen and (max-width: 620px){.caption[_ngcontent-%COMP%]{padding:0}}@media screen and (max-width: 510px){.sizeC[_ngcontent-%COMP%]{width:25%}}@media screen and (max-width: 260px){.sizeC[_ngcontent-%COMP%], .caption[_ngcontent-%COMP%]{font-size:10px}}.resetBtn[_ngcontent-%COMP%]{margin-left:3px}\"] });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AngularFileUploaderComponent, [{\n            type: Component,\n            args: [{ selector: 'angular-file-uploader', template: \"<div class=\\\"container\\\" *ngIf=\\\"(theme !== 'attachPin')\\\" id=\\\"default\\\">\\n\\n  <!-- Drag n Drop theme Starts -->\\n  <div *ngIf=\\\"theme == 'dragNDrop'\\\" id=\\\"dragNDrop\\\"\\n       [ngClass]=\\\"(hideSelectBtn && hideResetBtn) ? null : 'dragNDropBtmPad'\\\"\\n       class=\\\"dragNDrop\\\">\\n    <div style=\\\"position:relative;\\\">\\n      <div id=\\\"div1\\\" class=\\\"div1 afu-dragndrop-box\\\" (drop)=\\\"drop($event)\\\"\\n           (dragover)=\\\"allowDrop($event)\\\">\\n        <p class=\\\"afu-dragndrop-text\\\">{{replaceTexts?.dragNDropBox}}</p>\\n      </div>\\n      <!-- <span class='label label-info' id=\\\"upload-file-info{{id}}\\\">{{allowedFiles[0]?.name}}</span> -->\\n    </div>\\n  </div>\\n  <!-- Drag n Drop theme Ends -->\\n\\n  <label for=\\\"sel{{id}}\\\" class=\\\"btn btn-primary btn-sm afu-select-btn\\\"\\n         [ngClass]=\\\"progressBarShow ? 'disabled' : null\\\"\\n         *ngIf=\\\"!hideSelectBtn\\\">{{replaceTexts?.selectFileBtn}}</label>\\n  <input type=\\\"file\\\" id=\\\"sel{{id}}\\\" style=\\\"display: none\\\" *ngIf=\\\"!hideSelectBtn\\\"\\n         [disabled]=\\\"progressBarShow\\\" (change)=\\\"onChange($event)\\\"\\n         title=\\\"Select file\\\" name=\\\"files[]\\\" [accept]=formatsAllowed\\n         [attr.multiple]=\\\"multiple ? '' : null\\\" />\\n  <button class=\\\"btn btn-info btn-sm resetBtn afu-reset-btn\\\"\\n          (click)=\\\"resetFileUpload()\\\" *ngIf=\\\"!hideResetBtn\\\"\\n          [disabled]=\\\"progressBarShow\\\">{{replaceTexts?.resetBtn}}</button>\\n  <br *ngIf=\\\"!hideSelectBtn\\\">\\n  <p class=\\\"constraints-info afu-constraints-info\\\">{{formatsAllowedText}}\\n    {{replaceTexts?.sizeLimit}}:\\n    {{(convertSize(maxSize))}}\\n  </p>\\n  <!--Allowed file list-->\\n  <div class=\\\"row afu-valid-file\\\" *ngFor=\\\"let sf of allowedFiles;let i=index\\\">\\n    <p class=\\\"col textOverflow\\\"><span class=\\\"text-primary\\\">{{sf.name}}</span>\\n    </p>\\n    <p class=\\\"col-3 padMarg sizeC\\\">\\n      <strong>({{convertSize(sf.size)}})</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n    </p>\\n    <!--  <input class=\\\"col-xs-3 progress caption\\\"  type=\\\"text\\\"  placeholder=\\\"Caption..\\\"  [(ngModel)]=\\\"Caption[i]\\\"  *ngIf=\\\"!uploadStarted\\\"/> -->\\n    <div class=\\\"progress col-3 padMarg afu-progress-bar\\\"\\n         *ngIf=\\\"isAllowedFileSingle && progressBarShow && !hideProgressBar\\\">\\n      <span class=\\\"progress-bar progress-bar-success\\\" role=\\\"progressbar\\\"\\n            [ngStyle]=\\\"{'width':uploadPercent+'%'}\\\">{{uploadPercent}}%</span>\\n    </div>\\n    <a class=\\\"col-1\\\" role=\\\"button\\\" (click)=\\\"removeFile(i,'sf')\\\"\\n       *ngIf=\\\"!uploadStarted\\\"><i class=\\\"fa-solid fa-xmark\\\"></i></a>\\n  </div>\\n  <!--Not Allowed file list-->\\n  <div class=\\\"row text-danger afu-invalid-file\\\"\\n       *ngFor=\\\"let na of notAllowedFiles;let j=index\\\">\\n    <p class=\\\"col-3 textOverflow\\\"><span>{{na['fileName']}}</span></p>\\n    <p class=\\\"col-3 padMarg sizeC\\\"><strong>({{na['fileSize']}})</strong></p>\\n    <p class=\\\"col-3 \\\">{{na['errorMsg']}}</p>\\n    <a class=\\\"col-1 delFileIcon\\\" role=\\\"button\\\" (click)=\\\"removeFile(j,'na')\\\"\\n       *ngIf=\\\"!uploadStarted\\\">&nbsp;<i class=\\\"fa-solid fa-xmark\\\"></i></a>\\n  </div>\\n\\n  <p *ngIf=\\\"uploadMsg\\\" class=\\\"{{uploadMsgClass}} + afu-upload-status\\\">\\n    {{uploadMsgText}}\\n  <p>\\n  <div *ngIf=\\\"!isAllowedFileSingle && progressBarShow && !hideProgressBar\\\">\\n    <div class=\\\"progress col-xs-4 padMarg afu-progress-bar\\\">\\n      <span class=\\\"progress-bar progress-bar-success\\\" role=\\\"progressbar\\\"\\n            [ngStyle]=\\\"{'width':uploadPercent+'%'}\\\">{{uploadPercent}}%</span>\\n    </div>\\n    <br>\\n    <br>\\n  </div>\\n  <button class=\\\"btn btn-success afu-upload-btn\\\" type=\\\"button\\\"\\n          (click)=\\\"uploadFiles()\\\"\\n          [disabled]=\\\"!enableUploadBtn && progressBarShow\\\"\\n          *ngIf=\\\"!autoUpload\\\">{{replaceTexts?.uploadBtn}}</button>\\n  <br>\\n</div>\\n\\n<!--/////////////////////////// ATTACH PIN THEME  //////////////////////////////////////////////////////////-->\\n<div *ngIf=\\\"theme == 'attachPin'\\\" id=\\\"attachPin\\\">\\n  <div style=\\\"position:relative;padding-left:6px\\\">\\n    <a class='btn up_btn afu-attach-pin' (click)=\\\"attachpinOnclick()\\\">\\n      {{replaceTexts?.attachPinBtn}}\\n      <i class=\\\"fa-solid fa-paperclip\\\"></i>\\n      <!-- <p style=\\\"margin-top:10px\\\">({{formatsAllowedText}}) Size limit- {{(convertSize(maxSize))}}</p> -->\\n      <input type=\\\"file\\\" id=\\\"sel{{id}}\\\" (change)=\\\"onChange($event)\\\"\\n             style=\\\"display: none\\\" title=\\\"Select file\\\" name=\\\"files[]\\\"\\n             [accept]=formatsAllowed [attr.multiple]=\\\"multiple ? '' : null\\\" />\\n      <br>\\n    </a>\\n    &nbsp;\\n    <span class='label label-info'\\n          id=\\\"upload-file-info{{id}}\\\">{{allowedFiles[0]?.name}}</span>\\n  </div>\\n</div>\", styles: [\".constraints-info{margin-top:10px;font-style:italic}.padMarg{padding:0;margin-bottom:0}.caption{margin-right:5px}.textOverflow{white-space:nowrap;padding-right:0;overflow:hidden;text-overflow:ellipsis}.up_btn{color:#000;background-color:transparent;border:2px solid rgb(92,91,91);border-radius:22px}.delFileIcon{text-decoration:none;color:#ce0909}.selectBtnDisabled{border:1px solid #999999;background-color:#ccc;color:#666;cursor:no-drop}.dragNDrop .div1{display:border-box;border:2px dashed rgb(92,91,91);height:6rem}.dragNDrop .div1>p{text-align:center;font-weight:700;color:#5c5b5b;margin-top:2em}.dragNDropBtmPad{padding-bottom:2rem}@media screen and (max-width: 620px){.caption{padding:0}}@media screen and (max-width: 510px){.sizeC{width:25%}}@media screen and (max-width: 260px){.sizeC,.caption{font-size:10px}}.resetBtn{margin-left:3px}\\n\"] }]\n        }], function () {\n        return [{ type: i1.HttpClient, decorators: [{\n                        type: SkipSelf\n                    }] }];\n    }, { config: [{\n                type: Input\n            }], resetUpload: [{\n                type: Input\n            }], ApiResponse: [{\n                type: Output\n            }], fileSelected: [{\n                type: Output\n            }] });\n})();\n\nclass AngularFileUploaderModule {\n}\nAngularFileUploaderModule.ɵfac = function AngularFileUploaderModule_Factory(t) { return new (t || AngularFileUploaderModule)(); };\nAngularFileUploaderModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AngularFileUploaderModule });\nAngularFileUploaderModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [[\n            CommonModule,\n            HttpClientModule,\n        ]] });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AngularFileUploaderModule, [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        HttpClientModule,\n                    ],\n                    declarations: [AngularFileUploaderComponent],\n                    exports: [AngularFileUploaderComponent]\n                }]\n        }], null, null);\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AngularFileUploaderModule, { declarations: [AngularFileUploaderComponent], imports: [CommonModule,\n            HttpClientModule], exports: [AngularFileUploaderComponent] });\n})();\n\n/*\n * Public API Surface of angular-file-uploader\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AngularFileUploaderComponent, AngularFileUploaderModule };\n//# sourceMappingURL=angular-file-uploader.mjs.map\n","map":{"version":3,"file":"angular-file-uploader.mjs","sources":["../../../projects/angular-file-uploader/src/lib/angular-file-uploader.component.html","../../../projects/angular-file-uploader/src/lib/angular-file-uploader.component.ts","../../../projects/angular-file-uploader/src/lib/angular-file-uploader.module.ts","../../../projects/angular-file-uploader/src/public-api.ts","../../../projects/angular-file-uploader/src/angular-file-uploader.ts"],"sourcesContent":["<div class=\"container\" *ngIf=\"(theme !== 'attachPin')\" id=\"default\">\n\n  <!-- Drag n Drop theme Starts -->\n  <div *ngIf=\"theme == 'dragNDrop'\" id=\"dragNDrop\"\n       [ngClass]=\"(hideSelectBtn && hideResetBtn) ? null : 'dragNDropBtmPad'\"\n       class=\"dragNDrop\">\n    <div style=\"position:relative;\">\n      <div id=\"div1\" class=\"div1 afu-dragndrop-box\" (drop)=\"drop($event)\"\n           (dragover)=\"allowDrop($event)\">\n        <p class=\"afu-dragndrop-text\">{{replaceTexts?.dragNDropBox}}</p>\n      </div>\n      <!-- <span class='label label-info' id=\"upload-file-info{{id}}\">{{allowedFiles[0]?.name}}</span> -->\n    </div>\n  </div>\n  <!-- Drag n Drop theme Ends -->\n\n  <label for=\"sel{{id}}\" class=\"btn btn-primary btn-sm afu-select-btn\"\n         [ngClass]=\"progressBarShow ? 'disabled' : null\"\n         *ngIf=\"!hideSelectBtn\">{{replaceTexts?.selectFileBtn}}</label>\n  <input type=\"file\" id=\"sel{{id}}\" style=\"display: none\" *ngIf=\"!hideSelectBtn\"\n         [disabled]=\"progressBarShow\" (change)=\"onChange($event)\"\n         title=\"Select file\" name=\"files[]\" [accept]=formatsAllowed\n         [attr.multiple]=\"multiple ? '' : null\" />\n  <button class=\"btn btn-info btn-sm resetBtn afu-reset-btn\"\n          (click)=\"resetFileUpload()\" *ngIf=\"!hideResetBtn\"\n          [disabled]=\"progressBarShow\">{{replaceTexts?.resetBtn}}</button>\n  <br *ngIf=\"!hideSelectBtn\">\n  <p class=\"constraints-info afu-constraints-info\">{{formatsAllowedText}}\n    {{replaceTexts?.sizeLimit}}:\n    {{(convertSize(maxSize))}}\n  </p>\n  <!--Allowed file list-->\n  <div class=\"row afu-valid-file\" *ngFor=\"let sf of allowedFiles;let i=index\">\n    <p class=\"col textOverflow\"><span class=\"text-primary\">{{sf.name}}</span>\n    </p>\n    <p class=\"col-3 padMarg sizeC\">\n      <strong>({{convertSize(sf.size)}})</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    </p>\n    <!--  <input class=\"col-xs-3 progress caption\"  type=\"text\"  placeholder=\"Caption..\"  [(ngModel)]=\"Caption[i]\"  *ngIf=\"!uploadStarted\"/> -->\n    <div class=\"progress col-3 padMarg afu-progress-bar\"\n         *ngIf=\"isAllowedFileSingle && progressBarShow && !hideProgressBar\">\n      <span class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n            [ngStyle]=\"{'width':uploadPercent+'%'}\">{{uploadPercent}}%</span>\n    </div>\n    <a class=\"col-1\" role=\"button\" (click)=\"removeFile(i,'sf')\"\n       *ngIf=\"!uploadStarted\"><i class=\"fa-solid fa-xmark\"></i></a>\n  </div>\n  <!--Not Allowed file list-->\n  <div class=\"row text-danger afu-invalid-file\"\n       *ngFor=\"let na of notAllowedFiles;let j=index\">\n    <p class=\"col-3 textOverflow\"><span>{{na['fileName']}}</span></p>\n    <p class=\"col-3 padMarg sizeC\"><strong>({{na['fileSize']}})</strong></p>\n    <p class=\"col-3 \">{{na['errorMsg']}}</p>\n    <a class=\"col-1 delFileIcon\" role=\"button\" (click)=\"removeFile(j,'na')\"\n       *ngIf=\"!uploadStarted\">&nbsp;<i class=\"fa-solid fa-xmark\"></i></a>\n  </div>\n\n  <p *ngIf=\"uploadMsg\" class=\"{{uploadMsgClass}} + afu-upload-status\">\n    {{uploadMsgText}}\n  <p>\n  <div *ngIf=\"!isAllowedFileSingle && progressBarShow && !hideProgressBar\">\n    <div class=\"progress col-xs-4 padMarg afu-progress-bar\">\n      <span class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n            [ngStyle]=\"{'width':uploadPercent+'%'}\">{{uploadPercent}}%</span>\n    </div>\n    <br>\n    <br>\n  </div>\n  <button class=\"btn btn-success afu-upload-btn\" type=\"button\"\n          (click)=\"uploadFiles()\"\n          [disabled]=\"!enableUploadBtn && progressBarShow\"\n          *ngIf=\"!autoUpload\">{{replaceTexts?.uploadBtn}}</button>\n  <br>\n</div>\n\n<!--/////////////////////////// ATTACH PIN THEME  //////////////////////////////////////////////////////////-->\n<div *ngIf=\"theme == 'attachPin'\" id=\"attachPin\">\n  <div style=\"position:relative;padding-left:6px\">\n    <a class='btn up_btn afu-attach-pin' (click)=\"attachpinOnclick()\">\n      {{replaceTexts?.attachPinBtn}}\n      <i class=\"fa-solid fa-paperclip\"></i>\n      <!-- <p style=\"margin-top:10px\">({{formatsAllowedText}}) Size limit- {{(convertSize(maxSize))}}</p> -->\n      <input type=\"file\" id=\"sel{{id}}\" (change)=\"onChange($event)\"\n             style=\"display: none\" title=\"Select file\" name=\"files[]\"\n             [accept]=formatsAllowed [attr.multiple]=\"multiple ? '' : null\" />\n      <br>\n    </a>\n    &nbsp;\n    <span class='label label-info'\n          id=\"upload-file-info{{id}}\">{{allowedFiles[0]?.name}}</span>\n  </div>\n</div>","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  SkipSelf,\n} from '@angular/core';\nimport {\n  ReplaceTexts,\n  AngularFileUploaderConfig,\n  UploadInfo,\n  UploadApi,\n} from './angular-file-uploader.types';\nimport {\n  HttpClient,\n  HttpHeaders,\n  HttpParams,\n  HttpEventType,\n} from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'angular-file-uploader',\n  templateUrl: './angular-file-uploader.component.html',\n  styleUrls: ['./angular-file-uploader.component.css'],\n})\nexport class AngularFileUploaderComponent implements OnChanges {\n  // Inputs\n  @Input()\n  config: AngularFileUploaderConfig;\n\n  @Input()\n  resetUpload = false;\n\n  // Outputs\n  @Output()\n  ApiResponse = new EventEmitter();\n\n  @Output()\n  fileSelected: EventEmitter<UploadInfo[]> = new EventEmitter<UploadInfo[]>();\n\n  // Properties\n  theme: string;\n  id: number;\n  hideProgressBar: boolean;\n  maxSize: number;\n  uploadAPI: string;\n  method: string;\n  formatsAllowed: string;\n  formatsAllowedText: string;\n  multiple: boolean;\n  headers: HttpHeaders | { [header: string]: string | string[] };\n  params: HttpParams | { [param: string]: string | string[] };\n  responseType: 'json' | 'arraybuffer' | 'blob' | 'text';\n  hideResetBtn: boolean;\n  hideSelectBtn: boolean;\n  allowedFiles: File[] = [];\n  notAllowedFiles: {\n    fileName: string;\n    fileSize: string;\n    errorMsg: string;\n  }[] = [];\n  Caption: string[] = [];\n  isAllowedFileSingle = true;\n  progressBarShow = false;\n  enableUploadBtn = false;\n  uploadMsg = false;\n  afterUpload = false;\n  uploadStarted = false;\n  uploadMsgText: string;\n  uploadMsgClass: string;\n  uploadPercent: number;\n  replaceTexts: ReplaceTexts;\n  currentUploads: any[] = [];\n  fileNameIndex = true;\n  withCredentials = false;\n  autoUpload = false;\n\n  private idDate: number = +new Date();\n\n  constructor(@SkipSelf() private http: HttpClient) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    // Track changes in Configuration and see if user has even provided Configuration.\n    if (changes.config && this.config) {\n      // Assign User Configurations to Library Properties.\n      this.theme = this.config.theme || '';\n      this.id =\n        this.config.id ||\n        parseInt((this.idDate / 10000).toString().split('.')[1], 10) +\n          Math.floor(Math.random() * 20) * 10000;\n      this.hideProgressBar = this.config.hideProgressBar || false;\n      this.hideResetBtn = this.config.hideResetBtn || false;\n      this.hideSelectBtn = this.config.hideSelectBtn || false;\n      this.maxSize = (this.config.maxSize || 20) * 1024000; // mb to bytes.\n      this.uploadAPI = this.config.uploadAPI.url;\n      this.method = this.config.uploadAPI.method || 'POST';\n      this.formatsAllowed = this.config.formatsAllowed || '*';\n      this.formatsAllowedText =\n        this.formatsAllowed === '*' ? '' : '(' + this.formatsAllowed + ')';\n      this.multiple = this.config.multiple || false;\n      this.headers = this.config.uploadAPI.headers || {};\n      this.params = this.config.uploadAPI.params || {};\n      this.responseType = this.config.uploadAPI.responseType || 'json';\n      this.withCredentials = this.config.uploadAPI.withCredentials || false;\n      this.fileNameIndex = this.config.fileNameIndex === false ? false : true;\n      this.autoUpload = this.config.autoUpload || false;\n\n      this.replaceTexts = {\n        selectFileBtn: this.multiple ? 'Select Files' : 'Select File',\n        resetBtn: 'Reset',\n        uploadBtn: 'Upload',\n        dragNDropBox: 'Drag N Drop',\n        attachPinBtn: this.multiple ? 'Attach Files...' : 'Attach File...',\n        afterUploadMsg_success: 'Successfully Uploaded !',\n        afterUploadMsg_error: 'Upload Failed !',\n        sizeLimit: 'Size Limit',\n      }; // default replaceText.\n      if (this.config.replaceTexts) {\n        // updated replaceText if user has provided any.\n        this.replaceTexts = {\n          ...this.replaceTexts,\n          ...this.config.replaceTexts,\n        };\n      }\n    }\n\n    // Reset when resetUpload value changes from false to true.\n    if (changes.resetUpload) {\n      if (changes.resetUpload.currentValue === true) {\n        this.resetFileUpload();\n      }\n    }\n  }\n\n  // Reset following properties.\n  resetFileUpload() {\n    this.allowedFiles = [];\n    this.Caption = [];\n    this.notAllowedFiles = [];\n    this.uploadMsg = false;\n    this.enableUploadBtn = false;\n  }\n\n  // When user selects files.\n  onChange(event: any) {\n    this.fileSelected.emit(event);\n    this.notAllowedFiles = [];\n    const fileExtRegExp: RegExp = /(?:\\.([^.]+))?$/;\n    let fileList: FileList;\n\n    if (this.afterUpload || !this.multiple) {\n      this.allowedFiles = [];\n      this.Caption = [];\n      this.afterUpload = false;\n    }\n\n    if (event.type === 'drop') {\n      fileList = event.dataTransfer.files;\n    } else {\n      fileList = event.target.files || event.srcElement.files;\n    }\n\n    // 'forEach' does not exist on 'filelist' that's why this good old 'for' is used.\n    for (let i = 0; i < fileList.length; i++) {\n      const currentFileExt = fileExtRegExp\n        .exec(fileList[i].name)[1]\n        .toLowerCase(); // Get file extension.\n      const isFormatValid = this.formatsAllowed.includes('*')\n        ? true\n        : this.formatsAllowed.includes(currentFileExt);\n\n      const isSizeValid = fileList[i].size <= this.maxSize;\n\n      // Check whether current file format and size is correct as specified in the configurations.\n      if (isFormatValid && isSizeValid) {\n        this.allowedFiles.push(fileList[i]);\n      } else {\n        this.notAllowedFiles.push({\n          fileName: fileList[i].name,\n          fileSize: this.convertSize(fileList[i].size),\n          errorMsg: !isFormatValid ? 'Invalid format' : 'Invalid size',\n        });\n      }\n    }\n\n    // If there's any allowedFiles.\n    if (this.allowedFiles.length > 0) {\n      this.enableUploadBtn = true;\n      // Upload the files directly if theme is attach pin (as upload btn is not there for this theme) or autoUpload is true.\n      if (this.theme === 'attachPin' || this.autoUpload) {\n        this.uploadFiles();\n      }\n    } else {\n      this.enableUploadBtn = false;\n    }\n\n    this.uploadMsg = false;\n    this.uploadStarted = false;\n    this.uploadPercent = 0;\n    event.target.value = null;\n  }\n\n  uploadFiles() {\n    this.progressBarShow = true;\n    this.uploadStarted = true;\n    this.notAllowedFiles = [];\n    let isError = false;\n    this.isAllowedFileSingle = this.allowedFiles.length <= 1;\n    const formData = new FormData();\n\n    // Add data to be sent in this request\n    this.allowedFiles.forEach((file, i) => {\n      formData.append(\n        this.Caption[i] || 'file' + (this.fileNameIndex ? i : ''),\n        this.allowedFiles[i]\n      );\n    });\n\n    /*\n    Not Working, Headers null\n    // Contruct Headers\n    const headers = new HttpHeaders();\n    for (const key of Object.keys(this.headers)) {\n      headers.append(key, this.headers[key]);\n    }\n\n    // Contruct Params\n    const params = new HttpParams();\n    for (const key of Object.keys(this.params)) {\n      params.append(key, this.params[key]);\n    } */\n\n    this.http\n      .request(this.method.toUpperCase(), this.uploadAPI, {\n        body: formData,\n        reportProgress: true,\n        observe: 'events',\n        headers: this.headers,\n        params: this.params,\n        responseType: this.responseType,\n        withCredentials: this.withCredentials,\n      })\n      .subscribe(\n        (event) => {\n          // Upload Progress\n          if (event.type === HttpEventType.UploadProgress) {\n            this.enableUploadBtn = false; // button should be disabled if process uploading\n            const currentDone = event.loaded / event.total;\n            this.uploadPercent = Math.round((event.loaded / event.total) * 100);\n          } else if (event.type === HttpEventType.Response) {\n            if (event.status === 200 || event.status === 201) {\n              // Success\n              this.progressBarShow = false;\n              this.enableUploadBtn = false;\n              this.uploadMsg = true;\n              this.afterUpload = true;\n              if (!isError) {\n                this.uploadMsgText = this.replaceTexts.afterUploadMsg_success;\n                this.uploadMsgClass = 'text-success lead';\n              }\n            } else {\n              // Failure\n              isError = true;\n              this.handleErrors();\n            }\n\n            this.ApiResponse.emit(event);\n          } else {\n            //console.log('Event Other: ', event);\n          }\n        },\n        (error) => {\n          // Failure\n          isError = true;\n          this.handleErrors();\n          this.ApiResponse.emit(error);\n        }\n      );\n  }\n\n  handleErrors() {\n    this.progressBarShow = false;\n    this.enableUploadBtn = false;\n    this.uploadMsg = true;\n    this.afterUpload = true;\n    this.uploadMsgText = this.replaceTexts.afterUploadMsg_error;\n    this.uploadMsgClass = 'text-danger lead';\n  }\n\n  removeFile(i: any, sf_na: any) {\n    if (sf_na === 'sf') {\n      this.allowedFiles.splice(i, 1);\n      this.Caption.splice(i, 1);\n    } else {\n      this.notAllowedFiles.splice(i, 1);\n    }\n\n    if (this.allowedFiles.length === 0) {\n      this.enableUploadBtn = false;\n    }\n  }\n\n  convertSize(fileSize: number): string {\n    return fileSize < 1024000\n      ? (fileSize / 1024).toFixed(2) + ' KB'\n      : (fileSize / 1024000).toFixed(2) + ' MB';\n  }\n\n  attachpinOnclick() {\n    const element = document.getElementById('sel' + this.id);\n    if (element !== null) {\n      element.click();\n    }\n  }\n\n  drop(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.onChange(event);\n  }\n\n  allowDrop(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'copy';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AngularFileUploaderComponent } from './angular-file-uploader.component';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n  ],\n  declarations: [AngularFileUploaderComponent],\n  exports: [AngularFileUploaderComponent]\n})\nexport class AngularFileUploaderModule { }\n","/*\n * Public API Surface of angular-file-uploader\n */\n\nexport * from './lib/angular-file-uploader.component';\nexport * from './lib/angular-file-uploader.module';\nexport * from './lib/angular-file-uploader.types';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;;;QAGE,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAEuB,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AAE2B,QAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,SAAA,qEAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAQ,OAAY,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAC,CAClD,UAAA,EAAA,SAAA,yEAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,OAAA,CAAA,SAAA,CAAA,MAAA,CAAiB,CADiC,EAAA,CAAA,CAAA;QAEjE,EAA8B,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;AAAA,QAAA,EAA8B,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAI,CAAA,YAAA,EAAA,EAAA,EAAA,EAAA,CAAA;;;;QALjE,EAAsE,CAAA,UAAA,CAAA,SAAA,EAAA,MAAA,CAAA,aAAA,IAAA,MAAA,CAAA,YAAA,GAAA,IAAA,GAAA,iBAAA,CAAA,CAAA;AAKvC,QAAA,EAA8B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAA9B,EAA8B,CAAA,iBAAA,CAAA,MAAA,CAAA,YAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,YAAA,CAAA,YAAA,CAAA,CAAA;;;;;QAOlE,EAE8B,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA,EAAA,EAAA,CAAA,CAAA;AAAA,QAAA,EAA+B,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAQ,CAAA,YAAA,EAAA,CAAA;;;;AAF9D,QAAA,EAAe,CAAA,sBAAA,CAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA,CAAA;AACf,QAAA,EAA+C,CAAA,UAAA,CAAA,SAAA,EAAA,MAAA,CAAA,eAAA,GAAA,UAAA,GAAA,IAAA,CAAA,CAAA;AACxB,QAAA,EAA+B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAA/B,EAA+B,CAAA,iBAAA,CAAA,MAAA,CAAA,YAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,YAAA,CAAA,aAAA,CAAA,CAAA;;;;;;QAC7D,EAGgD,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA,EAAA,EAAA,CAAA,CAAA;AAFZ,QAAA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,SAAA,2EAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAU,wBAAgB,CAAC,EAAA,CAAA,CAAA;QAD/D,EAGgD,CAAA,YAAA,EAAA,CAAA;;;;AAH7B,QAAA,EAAc,CAAA,sBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA,CAAA;AAC1B,QAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,MAAA,CAAA,eAAA,CAA4B,CAAA,QAAA,EAAA,MAAA,CAAA,cAAA,CAAA,CAAA;AAE5B,QAAA,EAAsC,CAAA,WAAA,CAAA,UAAA,EAAA,MAAA,CAAA,QAAA,GAAA,EAAA,GAAA,IAAA,CAAA,CAAA;;;;;;QAC7C,EAEqC,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA,EAAA,EAAA,CAAA,CAAA;AAD7B,QAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,4EAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAS,yBAAiB,CAAC,EAAA,CAAA,CAAA;AACE,QAAA,EAA0B,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAS,CAAA,YAAA,EAAA,CAAA;;;;QAAhE,EAA4B,CAAA,UAAA,CAAA,UAAA,EAAA,MAAA,CAAA,eAAA,CAAA,CAAA;AAAC,QAAA,EAA0B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAA1B,EAA0B,CAAA,iBAAA,CAAA,MAAA,CAAA,YAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,YAAA,CAAA,QAAA,CAAA,CAAA;;;;;AAC/D,QAAA,EAA2B,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA;;;;;;AAazB,QAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CACwE,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AAExB,QAAA,EAAkB,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAA,CAAA,YAAA,EAAO,EAAA,CAAA;;;;AAAjE,QAAA,EAAuC,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAvC,EAAuC,CAAA,UAAA,CAAA,SAAA,EAAA,EAAA,CAAA,eAAA,CAAA,CAAA,EAAA,GAAA,EAAA,OAAA,CAAA,aAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AAAC,QAAA,EAAkB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAlB,EAAkB,CAAA,kBAAA,CAAA,EAAA,EAAA,OAAA,CAAA,aAAA,EAAA,GAAA,CAAA,CAAA;;;;;;QAElE,EAC0B,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QADK,EAAS,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,wEAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,KAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,KAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,OAAA,CAAA,UAAA,CAAA,KAAA,EAAa,IAAI,CAAC,CAAC,EAAA,CAAA,CAAA;QACjC,EAAiC,CAAA,SAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QAAA,EAAI,CAAA,YAAA,EAAA,CAAA;;;;;QAbjE,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAA4E,YAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AACnB,QAAA,EAAW,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAA,CAAA,YAAA,EAAO,EAAA,CAAA;AAEzE,QAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAA+B,CAAA,CAAA,EAAA,QAAA,CAAA,CAAA;AACrB,QAAA,EAA0B,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAS,CAAA,YAAA,EAAA,CAAA;AAAA,QAAA,EAC7C,CAAA,MAAA,CAAA,CAAA,EAAA,iCAAA,CAAA,CAAA;QAAA,EAAI,CAAA,YAAA,EAAA,CAAA;AAEJ,QAAA,EAIM,CAAA,UAAA,CAAA,CAAA,EAAA,uDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AACN,QAAA,EAC+D,CAAA,UAAA,CAAA,CAAA,EAAA,qDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QACjE,EAAM,CAAA,YAAA,EAAA,CAAA;;;;;AAbmD,QAAA,EAAW,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAAX,QAAA,EAAW,CAAA,iBAAA,CAAA,MAAA,CAAA,IAAA,CAAA,CAAA;AAGxD,QAAA,EAA0B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAA1B,QAAA,EAA0B,CAAA,kBAAA,CAAA,GAAA,EAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AAI9B,QAAA,EAAgE,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAAhE,QAAA,EAAgE,CAAA,UAAA,CAAA,MAAA,EAAA,MAAA,CAAA,mBAAA,IAAA,MAAA,CAAA,eAAA,IAAA,CAAA,MAAA,CAAA,eAAA,CAAA,CAAA;AAKlE,QAAA,EAAoB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAApB,EAAoB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,aAAA,CAAA,CAAA;;;;;;QAQxB,EAC0B,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QADiB,EAAS,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,wEAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,KAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,KAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,OAAA,CAAA,UAAA,CAAA,KAAA,EAAa,IAAI,CAAC,CAAC,EAAA,CAAA,CAAA;AAC7C,QAAA,EAAM,CAAA,MAAA,CAAA,CAAA,EAAA,QAAA,CAAA,CAAA;QAAA,EAAiC,CAAA,SAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QAAA,EAAI,CAAA,YAAA,EAAA,CAAA;;;;;QANvE,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CACoD,YAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA;AACd,QAAA,EAAkB,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAA,CAAA,YAAA,EAAO,EAAA,CAAA;AAC7D,QAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAA+B,CAAA,CAAA,EAAA,QAAA,CAAA,CAAA;AAAQ,QAAA,EAAoB,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAA,CAAA,YAAA,EAAS,EAAA,CAAA;QACpE,EAAkB,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;AAAA,QAAA,EAAkB,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAI,CAAA,YAAA,EAAA,CAAA;AACxC,QAAA,EACqE,CAAA,UAAA,CAAA,CAAA,EAAA,qDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QACvE,EAAM,CAAA,YAAA,EAAA,CAAA;;;;;AALgC,QAAA,EAAkB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAlB,EAAkB,CAAA,iBAAA,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAA;AACf,QAAA,EAAoB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAApB,QAAA,EAAoB,CAAA,kBAAA,CAAA,GAAA,EAAA,MAAA,CAAA,UAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AACzC,QAAA,EAAkB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAlB,EAAkB,CAAA,iBAAA,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAA;AAEhC,QAAA,EAAoB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAApB,EAAoB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,aAAA,CAAA,CAAA;;;;;AAG1B,QAAA,EAAoE,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AAClE,QAAA,EACF,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAFA,EAAoE,CAAA,YAAA,EAAA,CAAA;;;;QAA/C,EAA8C,CAAA,sBAAA,CAAA,EAAA,EAAA,MAAA,CAAA,cAAA,EAAA,sBAAA,CAAA,CAAA;AACjE,QAAA,EACF,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QADE,EACF,CAAA,kBAAA,CAAA,GAAA,EAAA,MAAA,CAAA,aAAA,EAAA,GAAA,CAAA,CAAA;;;;;QACA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,CAAyE,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AAGvB,QAAA,EAAkB,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAA,CAAA,YAAA,EAAO,EAAA,CAAA;AAEzE,QAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA,CAAI,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA;QAEN,EAAM,CAAA,YAAA,EAAA,CAAA;;;;AAJI,QAAA,EAAuC,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAvC,EAAuC,CAAA,UAAA,CAAA,SAAA,EAAA,EAAA,CAAA,eAAA,CAAA,CAAA,EAAA,GAAA,EAAA,OAAA,CAAA,aAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AAAC,QAAA,EAAkB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAlB,EAAkB,CAAA,kBAAA,CAAA,EAAA,EAAA,OAAA,CAAA,aAAA,EAAA,GAAA,CAAA,CAAA;;;;;;QAKpE,EAG4B,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA,EAAA,EAAA,CAAA,CAAA;AAFpB,QAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,6EAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAS,qBAAa,CAAC,EAAA,CAAA,CAAA;AAEH,QAAA,EAA2B,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAS,CAAA,YAAA,EAAA,CAAA;;;;AADxD,QAAA,EAAgD,CAAA,UAAA,CAAA,UAAA,EAAA,CAAA,OAAA,CAAA,eAAA,IAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AAC5B,QAAA,EAA2B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAA3B,EAA2B,CAAA,iBAAA,CAAA,OAAA,CAAA,YAAA,IAAA,IAAA,GAAA,IAAA,GAAA,OAAA,CAAA,YAAA,CAAA,SAAA,CAAA,CAAA;;;;;QAvEzD,EAAoE,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AAGlE,QAAA,EAUM,CAAA,UAAA,CAAA,CAAA,EAAA,iDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AAGN,QAAA,EAEqE,CAAA,UAAA,CAAA,CAAA,EAAA,mDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAAA,CAAA,CAAA,CAAA;AACrE,QAAA,EAGgD,CAAA,UAAA,CAAA,CAAA,EAAA,mDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,EAAA,CAAA,CAAA,CAAA;AAChD,QAAA,EAEwE,CAAA,UAAA,CAAA,CAAA,EAAA,oDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,CAAA,CAAA,CAAA;AACxE,QAAA,EAA2B,CAAA,UAAA,CAAA,CAAA,EAAA,gDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA;QAC3B,EAAiD,CAAA,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAGjD,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAI,CAAA,YAAA,EAAA,CAAA;AAEJ,QAAA,EAcM,CAAA,UAAA,CAAA,CAAA,EAAA,iDAAA,EAAA,EAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AAEN,QAAA,EAOM,CAAA,UAAA,CAAA,CAAA,EAAA,iDAAA,EAAA,EAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AAEN,QAAA,EAAoE,CAAA,UAAA,CAAA,EAAA,EAAA,gDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;AAEpE,QAAA,EAAG,CAAA,SAAA,CAAA,EAAA,EAAA,GAAA,CAAA,CAAA;AACH,QAAA,EAOM,CAAA,UAAA,CAAA,EAAA,EAAA,kDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AACN,QAAA,EAGgE,CAAA,UAAA,CAAA,EAAA,EAAA,qDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,CAAA,CAAA;AAChE,QAAA,EAAI,CAAA,SAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA;QACN,EAAM,CAAA,YAAA,EAAA,CAAA;;;;AAtEE,QAAA,EAA0B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAA1B,EAA0B,CAAA,UAAA,CAAA,MAAA,EAAA,MAAA,CAAA,KAAA,IAAA,WAAA,CAAA,CAAA;AAexB,QAAA,EAAoB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAApB,EAAoB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,aAAA,CAAA,CAAA;AAC6B,QAAA,EAAoB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAApB,EAAoB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,aAAA,CAAA,CAAA;AAKxC,QAAA,EAAmB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAnB,EAAmB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,YAAA,CAAA,CAAA;AAEnD,QAAA,EAAoB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAApB,EAAoB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,aAAA,CAAA,CAAA;AACwB,QAAA,EAGjD,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAHiD,QAAA,EAGjD,CAAA,kBAAA,CAAA,EAAA,EAAA,MAAA,CAAA,kBAAA,EAAA,GAAA,EAAA,MAAA,CAAA,YAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,YAAA,CAAA,SAAA,EAAA,IAAA,EAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,OAAA,CAAA,EAAA,GAAA,CAAA,CAAA;AAE+C,QAAA,EAAgB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAhB,EAAgB,CAAA,UAAA,CAAA,SAAA,EAAA,MAAA,CAAA,YAAA,CAAA,CAAA;AAiB3C,QAAA,EAAmB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAnB,EAAmB,CAAA,UAAA,CAAA,SAAA,EAAA,MAAA,CAAA,eAAA,CAAA,CAAA;AAQnC,QAAA,EAAe,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAf,EAAe,CAAA,UAAA,CAAA,MAAA,EAAA,MAAA,CAAA,SAAA,CAAA,CAAA;AAGb,QAAA,EAAiE,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAAjE,QAAA,EAAiE,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,mBAAA,IAAA,MAAA,CAAA,eAAA,IAAA,CAAA,MAAA,CAAA,eAAA,CAAA,CAAA;AAW9D,QAAA,EAAiB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAjB,EAAiB,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA;;;;;;QAK5B,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAiD,cAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;AAER,QAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8DAAA,GAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,CAAA,OAAS,0BAAkB,CAAC,EAAA,CAAA,CAAA;AAC/D,QAAA,EACA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;QAAA,EAAqC,CAAA,SAAA,CAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,CAAA;QAErC,EAEwE,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA,EAAA,EAAA,CAAA,CAAA;AAFtC,QAAA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,SAAA,mEAAA,CAAA,MAAA,EAAA,EAAA,EAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,OAAA,GAAA,EAAA,CAAA,aAAA,EAAA,CAAA,CAAA,OAAU,wBAAgB,CAAC,EAAA,CAAA,CAAA;QAA7D,EAEwE,CAAA,YAAA,EAAA,CAAA;AACxE,QAAA,EAAI,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA;QACN,EAAI,CAAA,YAAA,EAAA,CAAA;AACJ,QAAA,EACA,CAAA,MAAA,CAAA,CAAA,EAAA,UAAA,CAAA,CAAA;QAAA,EACkC,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AAAA,QAAA,EAAyB,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAA,EAAA,CAAA,YAAA,EAAO,EAAA,EAAA,CAAA;;;;AAVhE,QAAA,EACA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QADA,EACA,CAAA,kBAAA,CAAA,GAAA,EAAA,MAAA,CAAA,YAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,YAAA,CAAA,YAAA,EAAA,GAAA,CAAA,CAAA;AAEmB,QAAA,EAAc,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAAd,QAAA,EAAc,CAAA,sBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA,CAAA;QAE1B,EAAuB,CAAA,UAAA,CAAA,QAAA,EAAA,MAAA,CAAA,cAAA,CAAA,CAAA;AAAC,QAAA,EAAsC,CAAA,WAAA,CAAA,UAAA,EAAA,MAAA,CAAA,QAAA,GAAA,EAAA,GAAA,IAAA,CAAA,CAAA;AAKjE,QAAA,EAA2B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;AAA3B,QAAA,EAA2B,CAAA,sBAAA,CAAA,IAAA,EAAA,kBAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA,CAAA;AAAC,QAAA,EAAyB,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;QAAzB,EAAyB,CAAA,iBAAA,CAAA,MAAA,CAAA,YAAA,CAAA,CAAA,CAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,YAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA;;;MC5DlD,4BAA4B,CAAA;AAsDvC,IAAA,WAAA,CAAgC,IAAgB,EAAA;AAAhB,QAAA,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAY;AAhDhD,QAAA,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;;AAIpB,QAAA,IAAA,CAAA,WAAW,GAAG,IAAI,YAAY,EAAE,CAAC;AAGjC,QAAA,IAAA,CAAA,YAAY,GAA+B,IAAI,YAAY,EAAgB,CAAC;AAiB5E,QAAA,IAAY,CAAA,YAAA,GAAW,EAAE,CAAC;AAC1B,QAAA,IAAe,CAAA,eAAA,GAIT,EAAE,CAAC;AACT,QAAA,IAAO,CAAA,OAAA,GAAa,EAAE,CAAC;AACvB,QAAA,IAAmB,CAAA,mBAAA,GAAG,IAAI,CAAC;AAC3B,QAAA,IAAe,CAAA,eAAA,GAAG,KAAK,CAAC;AACxB,QAAA,IAAe,CAAA,eAAA,GAAG,KAAK,CAAC;AACxB,QAAA,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;AAClB,QAAA,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;AACpB,QAAA,IAAa,CAAA,aAAA,GAAG,KAAK,CAAC;AAKtB,QAAA,IAAc,CAAA,cAAA,GAAU,EAAE,CAAC;AAC3B,QAAA,IAAa,CAAA,aAAA,GAAG,IAAI,CAAC;AACrB,QAAA,IAAe,CAAA,eAAA,GAAG,KAAK,CAAC;AACxB,QAAA,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAEX,QAAA,IAAA,CAAA,MAAM,GAAW,CAAC,IAAI,IAAI,EAAE,CAAC;KAEe;AAEpD,IAAA,WAAW,CAAC,OAAsB,EAAA;;AAEhC,QAAA,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;;YAEjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;AACrC,YAAA,IAAI,CAAC,EAAE;gBACL,IAAI,CAAC,MAAM,CAAC,EAAE;oBACd,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,EAAE,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AAC1D,wBAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,KAAK,CAAC;YAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,KAAK,CAAC;YAC5D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,KAAK,CAAC;YACtD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,IAAI,KAAK,CAAC;AACxD,YAAA,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,IAAI,OAAO,CAAC;YACrD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC;AAC3C,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,IAAI,MAAM,CAAC;YACrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,GAAG,CAAC;AACxD,YAAA,IAAI,CAAC,kBAAkB;AACrB,gBAAA,IAAI,CAAC,cAAc,KAAK,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;YACrE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,KAAK,CAAC;AAC9C,YAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC;AACnD,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,IAAI,EAAE,CAAC;AACjD,YAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,IAAI,MAAM,CAAC;AACjE,YAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,IAAI,KAAK,CAAC;AACtE,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,KAAK,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;YACxE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,KAAK,CAAC;YAElD,IAAI,CAAC,YAAY,GAAG;gBAClB,aAAa,EAAE,IAAI,CAAC,QAAQ,GAAG,cAAc,GAAG,aAAa;AAC7D,gBAAA,QAAQ,EAAE,OAAO;AACjB,gBAAA,SAAS,EAAE,QAAQ;AACnB,gBAAA,YAAY,EAAE,aAAa;gBAC3B,YAAY,EAAE,IAAI,CAAC,QAAQ,GAAG,iBAAiB,GAAG,gBAAgB;AAClE,gBAAA,sBAAsB,EAAE,yBAAyB;AACjD,gBAAA,oBAAoB,EAAE,iBAAiB;AACvC,gBAAA,SAAS,EAAE,YAAY;AACxB,aAAA,CAAC;AACF,YAAA,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;;AAE5B,gBAAA,IAAI,CAAC,YAAY,GACZ,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAI,CAAC,YAAY,CACjB,EAAA,IAAI,CAAC,MAAM,CAAC,YAAY,CAC5B,CAAC;AACH,aAAA;AACF,SAAA;;QAGD,IAAI,OAAO,CAAC,WAAW,EAAE;AACvB,YAAA,IAAI,OAAO,CAAC,WAAW,CAAC,YAAY,KAAK,IAAI,EAAE;gBAC7C,IAAI,CAAC,eAAe,EAAE,CAAC;AACxB,aAAA;AACF,SAAA;KACF;;IAGD,eAAe,GAAA;AACb,QAAA,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;AACvB,QAAA,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAClB,QAAA,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;AAC1B,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;KAC9B;;AAGD,IAAA,QAAQ,CAAC,KAAU,EAAA;AACjB,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC9B,QAAA,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,MAAM,aAAa,GAAW,iBAAiB,CAAC;AAChD,QAAA,IAAI,QAAkB,CAAC;QAEvB,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AACtC,YAAA,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;AACvB,YAAA,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAClB,YAAA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AAC1B,SAAA;AAED,QAAA,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE;AACzB,YAAA,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;AACrC,SAAA;AAAM,aAAA;AACL,YAAA,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;AACzD,SAAA;;AAGD,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,MAAM,cAAc,GAAG,aAAa;iBACjC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACzB,WAAW,EAAE,CAAC;YACjB,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC;AACrD,kBAAE,IAAI;kBACJ,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;AAEjD,YAAA,MAAM,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC;;YAGrD,IAAI,aAAa,IAAI,WAAW,EAAE;gBAChC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;AACxB,oBAAA,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI;oBAC1B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC5C,QAAQ,EAAE,CAAC,aAAa,GAAG,gBAAgB,GAAG,cAAc;AAC7D,iBAAA,CAAC,CAAC;AACJ,aAAA;AACF,SAAA;;AAGD,QAAA,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;AAChC,YAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;;YAE5B,IAAI,IAAI,CAAC,KAAK,KAAK,WAAW,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjD,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,aAAA;AACF,SAAA;AAAM,aAAA;AACL,YAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC9B,SAAA;AAED,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;KAC3B;IAED,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,QAAA,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC;AACzD,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;;QAGhC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,KAAI;AACpC,YAAA,QAAQ,CAAC,MAAM,CACb,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,EAAE,CAAC,EACzD,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CACrB,CAAC;AACJ,SAAC,CAAC,CAAC;AAEH;;;;;;;;;;;;AAYI;AAEJ,QAAA,IAAI,CAAC,IAAI;aACN,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE;AAClD,YAAA,IAAI,EAAE,QAAQ;AACd,YAAA,cAAc,EAAE,IAAI;AACpB,YAAA,OAAO,EAAE,QAAQ;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,eAAe,EAAE,IAAI,CAAC,eAAe;SACtC,CAAC;AACD,aAAA,SAAS,CACR,CAAC,KAAK,KAAI;;AAER,YAAA,IAAI,KAAK,CAAC,IAAI,KAAK,aAAa,CAAC,cAAc,EAAE;AAC/C,gBAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC;AAC/C,gBAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,IAAI,GAAG,CAAC,CAAC;AACrE,aAAA;AAAM,iBAAA,IAAI,KAAK,CAAC,IAAI,KAAK,aAAa,CAAC,QAAQ,EAAE;gBAChD,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;;AAEhD,oBAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,oBAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,OAAO,EAAE;wBACZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC;AAC9D,wBAAA,IAAI,CAAC,cAAc,GAAG,mBAAmB,CAAC;AAC3C,qBAAA;AACF,iBAAA;AAAM,qBAAA;;oBAEL,OAAO,GAAG,IAAI,CAAC;oBACf,IAAI,CAAC,YAAY,EAAE,CAAC;AACrB,iBAAA;AAED,gBAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC9B,aAAA;AAAM,iBAAA;;AAEN,aAAA;AACH,SAAC,EACD,CAAC,KAAK,KAAI;;YAER,OAAO,GAAG,IAAI,CAAC;YACf,IAAI,CAAC,YAAY,EAAE,CAAC;AACpB,YAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC/B,SAAC,CACF,CAAC;KACL;IAED,YAAY,GAAA;AACV,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;AAC5D,QAAA,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC;KAC1C;IAED,UAAU,CAAC,CAAM,EAAE,KAAU,EAAA;QAC3B,IAAI,KAAK,KAAK,IAAI,EAAE;YAClB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,SAAA;AAAM,aAAA;YACL,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,SAAA;AAED,QAAA,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;AAClC,YAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC9B,SAAA;KACF;AAED,IAAA,WAAW,CAAC,QAAgB,EAAA;QAC1B,OAAO,QAAQ,GAAG,OAAO;AACvB,cAAE,CAAC,QAAQ,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;AACtC,cAAE,CAAC,QAAQ,GAAG,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;KAC7C;IAED,gBAAgB,GAAA;AACd,QAAA,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACzD,IAAI,OAAO,KAAK,IAAI,EAAE;YACpB,OAAO,CAAC,KAAK,EAAE,CAAC;AACjB,SAAA;KACF;AAED,IAAA,IAAI,CAAC,KAAU,EAAA;QACb,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACtB;AAED,IAAA,SAAS,CAAC,KAAU,EAAA;QAClB,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAA,KAAK,CAAC,YAAY,CAAC,UAAU,GAAG,MAAM,CAAC;KACxC;;wGA5SU,4BAA4B,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,UAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA;+EAA5B,4BAA4B,EAAA,SAAA,EAAA,CAAA,CAAA,uBAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,QAAA,EAAA,CAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA,CAAA,OAAA,EAAA,WAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,IAAA,EAAA,WAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,IAAA,EAAA,SAAA,EAAA,CAAA,EAAA,WAAA,CAAA,EAAA,CAAA,IAAA,EAAA,WAAA,EAAA,OAAA,EAAA,WAAA,EAAA,CAAA,EAAA,SAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,OAAA,EAAA,uCAAA,EAAA,CAAA,EAAA,KAAA,EAAA,SAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,eAAA,EAAA,OAAA,EAAA,aAAA,EAAA,MAAA,EAAA,SAAA,EAAA,CAAA,EAAA,IAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,OAAA,EAAA,4CAAA,EAAA,CAAA,EAAA,UAAA,EAAA,OAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,kBAAA,EAAA,sBAAA,CAAA,EAAA,CAAA,OAAA,EAAA,oBAAA,EAAA,CAAA,EAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,OAAA,EAAA,kCAAA,EAAA,CAAA,EAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,OAAA,EAAA,gCAAA,EAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,UAAA,EAAA,OAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,IAAA,EAAA,WAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,IAAA,EAAA,MAAA,EAAA,CAAA,EAAA,MAAA,EAAA,mBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,oBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,CAAA,EAAA,KAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,aAAA,EAAA,MAAA,EAAA,SAAA,EAAA,CAAA,EAAA,SAAA,EAAA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,eAAA,EAAA,CAAA,EAAA,UAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,gBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,SAAA,EAAA,OAAA,CAAA,EAAA,CAAA,OAAA,EAAA,yCAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,MAAA,EAAA,aAAA,EAAA,CAAA,EAAA,cAAA,EAAA,sBAAA,EAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,OAAA,EAAA,mBAAA,EAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,aAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA,gBAAA,EAAA,CAAA,EAAA,UAAA,EAAA,OAAA,CAAA,EAAA,CAAA,IAAA,EAAA,WAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,EAAA,UAAA,EAAA,cAAA,EAAA,KAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,EAAA,cAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,aAAA,EAAA,MAAA,EAAA,SAAA,EAAA,CAAA,EAAA,SAAA,EAAA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAA,QAAA,EAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,CAAA,CAAA,EAAA,QAAA,EAAA,SAAA,qCAAA,CAAA,EAAA,EAAA,GAAA,EAAA;QAAA,IAAA,EAAA,GAAA,CAAA,EAAA;AD7BzC,YAAA,EAyEM,CAAA,UAAA,CAAA,CAAA,EAAA,2CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AAGN,YAAA,EAeM,CAAA,UAAA,CAAA,CAAA,EAAA,2CAAA,EAAA,EAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,CAAA,CAAA;;;YA3FkB,EAA6B,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,KAAA,KAAA,WAAA,CAAA,CAAA;AA4E/C,YAAA,EAA0B,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA;YAA1B,EAA0B,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,KAAA,IAAA,WAAA,CAAA,CAAA;;;;4EC/CnB,4BAA4B,EAAA,CAAA;kBALxC,SAAS;+BACE,uBAAuB,EAAA,QAAA,EAAA,wjJAAA,EAAA,MAAA,EAAA,CAAA,i1BAAA,CAAA,EAAA,CAAA;;;8BA0DpB,QAAQ;;SAnDrB,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAKN,WAAW,EAAA,CAAA;sBADV,MAAM;gBAIP,YAAY,EAAA,CAAA;sBADX,MAAM;;;;MC5BI,yBAAyB,CAAA;;kGAAzB,yBAAyB,GAAA,CAAA,EAAA,CAAA;2EAAzB,yBAAyB,EAAA,CAAA,CAAA;AAP3B,yBAAA,CAAA,IAAA,iBAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,OAAA,EAAA,CAAA;YACP,YAAY;YACZ,gBAAgB;SACjB,CAAA,EAAA,CAAA,CAAA;;4EAIU,yBAAyB,EAAA,CAAA;kBARrC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,OAAO,EAAE;wBACP,YAAY;wBACZ,gBAAgB;AACjB,qBAAA;oBACD,YAAY,EAAE,CAAC,4BAA4B,CAAC;oBAC5C,OAAO,EAAE,CAAC,4BAA4B,CAAC;iBACxC,CAAA;;;;6EACY,yBAAyB,EAAA,EAAA,YAAA,EAAA,CAHrB,4BAA4B,CAAA,EAAA,OAAA,EAAA,CAHzC,YAAY;YACZ,gBAAgB,aAGR,4BAA4B,CAAA,EAAA,CAAA,CAAA;AAAA,CAAA,GAAA;;ACXxC;;AAEG;;ACFH;;AAEG;;;;"}}}